"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[179],{760:()=>{function oe(t){return"function"==typeof t}function gs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zo=gs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ps(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof zo?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Cg(s)}catch(o){e=e??[],o instanceof zo?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Cg(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ps(n,e)}remove(e){const{_finalizers:n}=this;n&&ps(n,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const t=new Tt;return t.closed=!0,t})();const Dg=Tt.EMPTY;function Eg(t){return t instanceof Tt||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function Cg(t){oe(t)?t():t.unsubscribe()}const mr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Go={setTimeout(t,e,...n){const{delegate:r}=Go;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Go;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wg(t){Go.setTimeout(()=>{const{onUnhandledError:e}=mr;if(!e)throw t;e(t)})}function Ig(){}const Pw=Iu("C",void 0,void 0);function Iu(t,e,n){return{kind:t,value:e,error:n}}let yr=null;function Wo(t){if(mr.useDeprecatedSynchronousErrorHandling){const e=!yr;if(e&&(yr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=yr;if(yr=null,n)throw r}}else t()}class Tu extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Eg(e)&&e.add(this)):this.destination=Uw}static create(e,n,r){return new ms(e,n,r)}next(e){this.isStopped?bu(function Ow(t){return Iu("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?bu(function Nw(t){return Iu("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bu(Pw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fw=Function.prototype.bind;function Su(t,e){return Fw.call(t,e)}class kw{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zo(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zo(r)}else Zo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zo(n)}}}class ms extends Tu{constructor(e,n,r){let i;if(super(),oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&mr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Su(e.next,s),error:e.error&&Su(e.error,s),complete:e.complete&&Su(e.complete,s)}):i=e}this.destination=new kw(i)}}function Zo(t){mr.useDeprecatedSynchronousErrorHandling?function Lw(t){mr.useDeprecatedSynchronousErrorHandling&&yr&&(yr.errorThrown=!0,yr.error=t)}(t):wg(t)}function bu(t,e){const{onStoppedNotification:n}=mr;n&&Go.setTimeout(()=>n(t,e))}const Uw={closed:!0,next:Ig,error:function jw(t){throw t},complete:Ig},Mu="function"==typeof Symbol&&Symbol.observable||"@@observable";function _r(t){return t}function Tg(t){return 0===t.length?_r:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Bw(t){return t&&t instanceof Tu||function $w(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}(t)&&Eg(t)}(n)?n:new ms(n,r,i);return Wo(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Sg(r))((i,s)=>{const o=new ms({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Mu](){return this}pipe(...n){return Tg(n)(this)}toPromise(n){return new(n=Sg(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Sg(t){var e;return null!==(e=t??mr.Promise)&&void 0!==e?e:Promise}const Hw=gs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _n=(()=>{class t extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new bg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Hw}next(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Dg:(this.currentObservers=null,s.push(n),new Tt(()=>{this.currentObservers=null,ps(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Me;return n.source=this,n}}return t.create=(e,n)=>new bg(e,n),t})();class bg extends _n{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Dg}}function Mg(t){return oe(t?.lift)}function Oe(t){return e=>{if(Mg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(t,e,n,r,i){return new zw(t,e,n,r,i)}class zw extends Tu{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function W(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Le(r,s=>{r.next(t.call(e,s,i++))}))})}function vr(t){return this instanceof vr?(this.v=t,this):new vr(t)}function qw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function xg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const Pg=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ng(t){return oe(t?.then)}function Og(t){return oe(t[Mu])}function Lg(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Fg(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kg=function Yw(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jg(t){return oe(t?.[kg])}function Ug(t){return function Zw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,p){s.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof vr?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vr(n.read());if(i)return yield vr(void 0);yield yield vr(r)}}finally{n.releaseLock()}})}function Vg(t){return oe(t?.getReader)}function jt(t){if(t instanceof Me)return t;if(null!=t){if(Og(t))return function Xw(t){return new Me(e=>{const n=t[Mu]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Pg(t))return function Qw(t){return new Me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ng(t))return function Jw(t){return new Me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wg)})}(t);if(Lg(t))return $g(t);if(jg(t))return function eI(t){return new Me(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Vg(t))return function tI(t){return $g(Ug(t))}(t)}throw Fg(t)}function $g(t){return new Me(e=>{(function nI(t,e){var n,r,i,s;return function Gw(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=qw(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function vn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ke(t,e,n=1/0){return oe(e)?ke((r,i)=>W((s,o)=>e(r,s,i,o))(jt(t(r,i))),n):("number"==typeof e&&(n=e),Oe((r,i)=>function rI(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=p=>u<r?g(p):l.push(p),g=p=>{s&&e.next(p),u++;let m=!1;jt(n(p,c++)).subscribe(Le(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const _=l.shift();o?vn(e,o,()=>g(_)):g(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(Le(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Kr(t=1/0){return ke(_r,t)}const Jt=new Me(t=>t.complete());function Au(t){return t[t.length-1]}function ys(t){return function sI(t){return t&&oe(t.schedule)}(Au(t))?t.pop():void 0}function Bg(t,e=0){return Oe((n,r)=>{n.subscribe(Le(r,i=>vn(r,t,()=>r.next(i),e),()=>vn(r,t,()=>r.complete(),e),i=>vn(r,t,()=>r.error(i),e)))})}function Hg(t,e=0){return Oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function zg(t,e){if(!t)throw new Error("Iterable cannot be null");return new Me(n=>{vn(n,e,()=>{const r=t[Symbol.asyncIterator]();vn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Re(t,e){return e?function fI(t,e){if(null!=t){if(Og(t))return function lI(t,e){return jt(t).pipe(Hg(e),Bg(e))}(t,e);if(Pg(t))return function cI(t,e){return new Me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ng(t))return function uI(t,e){return jt(t).pipe(Hg(e),Bg(e))}(t,e);if(Lg(t))return zg(t,e);if(jg(t))return function dI(t,e){return new Me(n=>{let r;return vn(n,e,()=>{r=t[kg](),vn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}(t,e);if(Vg(t))return function hI(t,e){return zg(Ug(t),e)}(t,e)}throw Fg(t)}(t,e):jt(t)}function xu(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ms({next:()=>{r.unsubscribe(),t()}});return jt(e(...n)).subscribe(r)}function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Nu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const mI=se({__forward_ref__:se});function Ou(t){return t.__forward_ref__=Ou,t.toString=function(){return ae(this())},t}function R(t){return Lu(t)?t():t}function Lu(t){return"function"==typeof t&&t.hasOwnProperty(mI)&&t.__forward_ref__===Ou}function Fu(t){return t&&!!t.\u0275providers}class C extends Error{constructor(e,n){super(qo(e,n)),this.code=e}}function qo(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function X(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function k(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Ko(t,e){throw new C(-201,!1)}function St(t,e){null==t&&function Q(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yo(t){return Wg(t,Xo)||Wg(t,qg)}function Wg(t,e){return t.hasOwnProperty(e)?t[e]:null}function Zg(t){return t&&(t.hasOwnProperty(ku)||t.hasOwnProperty(TI))?t[ku]:null}const Xo=se({\u0275prov:se}),ku=se({\u0275inj:se}),qg=se({ngInjectableDef:se}),TI=se({ngInjectorDef:se});var A=(()=>((A=A||{})[A.Default=0]="Default",A[A.Host=1]="Host",A[A.Self=2]="Self",A[A.SkipSelf=4]="SkipSelf",A[A.Optional=8]="Optional",A))();let ju;function bt(t){const e=ju;return ju=t,e}function Kg(t,e,n){const r=Yo(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void Ko(ae(t))}const ue=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_s={},Uu="__NG_DI_FLAG__",Qo="ngTempTokenPath",bI="ngTokenPath",MI=/\n/gm,RI="\u0275",Yg="__source";let vs;function Yr(t){const e=vs;return vs=t,e}function AI(t,e=A.Default){if(void 0===vs)throw new C(-203,!1);return null===vs?Kg(t,void 0,e):vs.get(t,e&A.Optional?null:void 0,e)}function x(t,e=A.Default){return(function SI(){return ju}()||AI)(R(t),e)}function Z(t,e=A.Default){return x(t,Jo(e))}function Jo(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vu(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=A.Default;for(let o=0;o<r.length;o++){const a=r[o],l=xI(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(x(i,s))}else e.push(x(r))}return e}function Ds(t,e){return t[Uu]=e,t.prototype[Uu]=e,t}function xI(t){return t[Uu]}function Dn(t){return{toString:t}.toString()}var en=(()=>((en=en||{})[en.OnPush=0]="OnPush",en[en.Default=1]="Default",en))(),tn=(()=>{return(t=tn||(tn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",tn;var t})();const En={},Y=[],ea=se({\u0275cmp:se}),$u=se({\u0275dir:se}),Bu=se({\u0275pipe:se}),Qg=se({\u0275mod:se}),Cn=se({\u0275fac:se}),Es=se({__NG_ELEMENT_ID__:se});let OI=0;function Hu(t){return Dn(()=>{const e=ep(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===en.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||tn.Emulated,id:"c"+OI++,styles:t.styles||Y,_:null,schemas:t.schemas||null,tView:null};tp(n);const r=t.dependencies;return n.directiveDefs=ta(r,!1),n.pipeDefs=ta(r,!0),n})}function FI(t){return J(t)||He(t)}function kI(t){return null!==t}function Dr(t){return Dn(()=>({type:t.type,bootstrap:t.bootstrap||Y,declarations:t.declarations||Y,imports:t.imports||Y,exports:t.exports||Y,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Jg(t,e){if(null==t)return En;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Xe(t){return Dn(()=>{const e=ep(t);return tp(e),e})}function J(t){return t[ea]||null}function He(t){return t[$u]||null}function at(t){return t[Bu]||null}function mt(t,e){const n=t[Qg]||null;if(!n&&!0===e)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return n}function ep(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Y,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jg(t.inputs,e),outputs:Jg(t.outputs)}}function tp(t){t.features?.forEach(e=>e(t))}function ta(t,e){if(!t)return null;const n=e?at:FI;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(kI)}const wn=0,T=1,$=2,ge=3,Ut=4,Er=5,ze=6,Qr=7,ve=8,na=9,ra=10,H=11,zu=12,Cs=13,np=14,Jr=15,Ge=16,ws=17,ei=18,nn=19,Is=20,rp=21,ce=22,Gu=1,ip=2,ia=7,sa=8,ti=9,Qe=10;function yt(t){return Array.isArray(t)&&"object"==typeof t[Gu]}function Vt(t){return Array.isArray(t)&&!0===t[Gu]}function Wu(t){return 0!=(4&t.flags)}function Ts(t){return t.componentOffset>-1}function $t(t){return!!t.template}function UI(t){return 0!=(256&t[$])}function Cr(t,e){return t.hasOwnProperty(Cn)?t[Cn]:null}class BI{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wr(){return ap}function ap(t){return t.type.prototype.ngOnChanges&&(t.setInput=zI),HI}function HI(){const t=up(this),e=t?.current;if(e){const n=t.previous;if(n===En)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zI(t,e,n,r){const i=this.declaredInputs[n],s=up(t)||function GI(t,e){return t[lp]=e}(t,{previous:En,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new BI(l&&l.currentValue,e,a===En),t[r]=e}wr.ngInherit=!0;const lp="__ngSimpleChanges__";function up(t){return t[lp]||null}const Mt=function(t,e,n){};function je(t){for(;Array.isArray(t);)t=t[wn];return t}function _t(t,e){return je(e[t.index])}function vt(t,e){const n=e[t];return yt(n)?n:n[wn]}function la(t){return 64==(64&t[$])}function qn(t,e){return null==e?null:t[e]}function fp(t){t[ei]=0}function qu(t,e){t[Er]+=e;let n=t,r=t[ge];for(;null!==r&&(1===e&&1===n[Er]||-1===e&&0===n[Er]);)r[Er]+=e,n=r,r=r[ge]}const j={lFrame:wp(null),bindingsEnabled:!0};function pp(){return j.bindingsEnabled}function E(){return j.lFrame.lView}function K(){return j.lFrame.tView}function Ue(){let t=mp();for(;null!==t&&64===t.type;)t=t.parent;return t}function mp(){return j.lFrame.currentTNode}function rn(t,e){const n=j.lFrame;n.currentTNode=t,n.isParent=e}function Ku(){return j.lFrame.isParent}function oT(t,e){const n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xu(e)}function Xu(t){j.lFrame.currentDirectiveIndex=t}function Ju(t){j.lFrame.currentQueryIndex=t}function lT(t){const e=t[T];return 2===e.type?e.declTNode:1===e.type?t[ze]:null}function Ep(t,e,n){if(n&A.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&A.Host||(i=lT(s),null===i||(s=s[Jr],10&i.type))););if(null===i)return!1;e=i,t=s}const r=j.lFrame=Cp();return r.currentTNode=e,r.lView=t,!0}function ec(t){const e=Cp(),n=t[T];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Cp(){const t=j.lFrame,e=null===t?null:t.child;return null===e?wp(t):e}function wp(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ip(){const t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Tp=Ip;function tc(){const t=Ip();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ir(t){j.lFrame.selectedIndex=t}function ua(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function ca(t,e,n){Sp(t,e,3,n)}function da(t,e,n,r){(3&t[$])===n&&Sp(t,e,n,r)}function nc(t,e){let n=t[$];(3&n)===e&&(n&=2047,n+=1,t[$]=n)}function Sp(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[ei]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[ei]+=65536),(a<s||-1==s)&&(yT(t,n,e,l),t[ei]=(4294901760&t[ei])+l+2),l++}function yT(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[$]>>11<t[ei]>>16&&(3&t[$])===e){t[$]+=2048,Mt(4,a,s);try{s.call(a)}finally{Mt(5,a,s)}}}else{Mt(4,a,s);try{s.call(a)}finally{Mt(5,a,s)}}}const ii=-1;class bs{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ic(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Mp(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function bp(t){return 3===t||4===t||6===t}function Mp(t){return 64===t.charCodeAt(0)}function Ms(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Rp(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Rp(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ap(t){return t!==ii}function ha(t){return 32767&t}function fa(t,e){let n=function ET(t){return t>>16}(t),r=e;for(;n>0;)r=r[Jr],n--;return r}let sc=!0;function ga(t){const e=sc;return sc=t,e}const xp=255,Pp=5;let CT=0;const sn={};function pa(t,e){const n=Np(t,e);if(-1!==n)return n;const r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,oc(r.data,t),oc(e,null),oc(r.blueprint,null));const i=ac(t,e),s=t.injectorIndex;if(Ap(i)){const o=ha(i),a=fa(i,e),l=a[T].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function oc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Np(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ac(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=$p(i),null===r)return ii;if(n++,i=i[Jr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ii}function lc(t,e,n){!function wT(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Es)&&(r=n[Es]),null==r&&(r=n[Es]=CT++);const i=r&xp;e.data[t+(i>>Pp)]|=1<<i}(t,e,n)}function Op(t,e,n){if(n&A.Optional||void 0!==t)return t;Ko()}function Lp(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),!(n&(A.Self|A.Host))){const i=t[na],s=bt(void 0);try{return i?i.get(e,r,n&A.Optional):Kg(e,r,n&A.Optional)}finally{bt(s)}}return Op(r,0,n)}function Fp(t,e,n,r=A.Default,i){if(null!==t){if(1024&e[$]){const o=function MT(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[$]&&!(256&o[$]);){const a=kp(s,o,n,r|A.Self,sn);if(a!==sn)return a;let l=s.parent;if(!l){const u=o[rp];if(u){const c=u.get(n,sn,r);if(c!==sn)return c}l=$p(o),o=o[Jr]}s=l}return i}(t,e,n,r,sn);if(o!==sn)return o}const s=kp(t,e,n,r,sn);if(s!==sn)return s}return Lp(e,n,r,i)}function kp(t,e,n,r,i){const s=function ST(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Es)?t[Es]:void 0;return"number"==typeof e?e>=0?e&xp:bT:e}(n);if("function"==typeof s){if(!Ep(e,t,r))return r&A.Host?Op(i,0,r):Lp(e,n,r,i);try{const o=s(r);if(null!=o||r&A.Optional)return o;Ko()}finally{Tp()}}else if("number"==typeof s){let o=null,a=Np(t,e),l=ii,u=r&A.Host?e[Ge][ze]:null;for((-1===a||r&A.SkipSelf)&&(l=-1===a?ac(t,e):e[a+8],l!==ii&&Up(r,!1)?(o=e[T],a=ha(l),e=fa(l,e)):a=-1);-1!==a;){const c=e[T];if(jp(s,a,c.data)){const d=TT(a,e,n,o,r,u);if(d!==sn)return d}l=e[a+8],l!==ii&&Up(r,e[T].data[a+8]===u)&&jp(s,a,e)?(o=c,a=ha(l),e=fa(l,e)):a=-1}}return i}function TT(t,e,n,r,i,s){const o=e[T],a=o.data[t+8],c=function ma(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=o[l];if(f&&$t(f)&&f.type===n)return l}return null}(a,o,n,null==r?Ts(a)&&sc:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==c?Tr(e,o,c,a):sn}function Tr(t,e,n,r){let i=t[n];const s=e.data;if(function _T(t){return t instanceof bs}(i)){const o=i;o.resolving&&function yI(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(X(s[n]));const a=ga(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?bt(o.injectImpl):null;Ep(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function mT(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=ap(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&bt(l),ga(a),o.resolving=!1,Tp()}}return i}function jp(t,e,n){return!!(n[e+(t>>Pp)]&1<<t)}function Up(t,e){return!(t&A.Self||t&A.Host&&e)}class si{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Fp(this._tNode,this._lView,e,Jo(r),n)}}function bT(){return new si(Ue(),E())}function uc(t){return Lu(t)?()=>{const e=uc(R(t));return e&&e()}:Cr(t)}function $p(t){const e=t[T],n=e.type;return 2===n?e.declTNode:1===n?t[ze]:null}const ai="__parameters__";function ui(t,e,n){return Dn(()=>{const r=function cc(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(ai)?l[ai]:Object.defineProperty(l,ai,{value:[]})[ai];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class N{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Sr(t,e){t.forEach(n=>Array.isArray(n)?Sr(n,e):e(n))}function Hp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _a(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Ps=Ds(ui("Optional"),8),Ns=Ds(ui("SkipSelf"),4);var lt=(()=>((lt=lt||{})[lt.Important=1]="Important",lt[lt.DashCase=2]="DashCase",lt))();const _c=new Map;let eS=0;const Dc="__ngContext__";function We(t,e){yt(e)?(t[Dc]=e[Is],function nS(t){_c.set(t[Is],t)}(e)):t[Dc]=e}let Ec;function Cc(t,e){return Ec(t,e)}function ks(t){const e=t[ge];return Vt(e)?e[ge]:e}function wc(t){return cm(t[Cs])}function Ic(t){return cm(t[Ut])}function cm(t){for(;null!==t&&!Vt(t);)t=t[Ut];return t}function hi(t,e,n,r,i){if(null!=r){let s,o=!1;Vt(r)?s=r:yt(r)&&(o=!0,r=r[wn]);const a=je(r);0===t&&null!==n?null==i?mm(e,n,a):br(e,n,a,i||null,!0):1===t&&null!==n?br(e,n,a,i||null,!0):2===t?function xc(t,e,n){const r=Ca(t,e);r&&function CS(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function TS(t,e,n,r,i){const s=n[ia];s!==je(n)&&hi(e,t,r,s,i);for(let a=Qe;a<n.length;a++){const l=n[a];js(l[T],l,t,e,r,s)}}(e,t,s,n,i)}}function Sc(t,e,n){return t.createElement(e,n)}function hm(t,e){const n=t[ti],r=n.indexOf(e),i=e[ge];512&e[$]&&(e[$]&=-513,qu(i,-1)),n.splice(r,1)}function bc(t,e){if(t.length<=Qe)return;const n=Qe+e,r=t[n];if(r){const i=r[ws];null!==i&&i!==t&&hm(i,r),e>0&&(t[n-1][Ut]=r[Ut]);const s=_a(t,Qe+e);!function gS(t,e){js(t,e,e[H],2,null,null),e[wn]=null,e[ze]=null}(r[T],r);const o=s[nn];null!==o&&o.detachView(s[T]),r[ge]=null,r[Ut]=null,r[$]&=-65}return r}function fm(t,e){if(!(128&e[$])){const n=e[H];n.destroyNode&&js(t,e,n,3,null,null),function yS(t){let e=t[Cs];if(!e)return Mc(t[T],t);for(;e;){let n=null;if(yt(e))n=e[Cs];else{const r=e[Qe];r&&(n=r)}if(!n){for(;e&&!e[Ut]&&e!==t;)yt(e)&&Mc(e[T],e),e=e[ge];null===e&&(e=t),yt(e)&&Mc(e[T],e),n=e&&e[Ut]}e=n}}(e)}}function Mc(t,e){if(!(128&e[$])){e[$]&=-65,e[$]|=128,function ES(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof bs)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Mt(4,a,l);try{l.call(a)}finally{Mt(5,a,l)}}else{Mt(4,i,s);try{s.call(i)}finally{Mt(5,i,s)}}}}}(t,e),function DS(t,e){const n=t.cleanup,r=e[Qr];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Qr]=null}}(t,e),1===e[T].type&&e[H].destroy();const n=e[ws];if(null!==n&&Vt(e[ge])){n!==e[ge]&&hm(n,e);const r=e[nn];null!==r&&r.detachView(t)}!function rS(t){_c.delete(t[Is])}(e)}}function gm(t,e,n){return function pm(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[wn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===tn.None||s===tn.Emulated)return null}return _t(r,n)}}(t,e.parent,n)}function br(t,e,n,r,i){t.insertBefore(e,n,r,i)}function mm(t,e,n){t.appendChild(e,n)}function ym(t,e,n,r,i){null!==r?br(t,e,n,r,i):mm(t,e,n)}function Ca(t,e){return t.parentNode(e)}let Rc,Oc,Dm=function vm(t,e,n){return 40&t.type?_t(t,n):null};function wa(t,e,n,r){const i=gm(t,r,e),s=e[H],a=function _m(t,e,n){return Dm(t,e,n)}(r.parent||e[ze],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)ym(s,i,n[l],a,!1);else ym(s,i,n,a,!1);void 0!==Rc&&Rc(s,r,e,n,i)}function Ia(t,e){if(null!==e){const n=e.type;if(3&n)return _t(e,t);if(4&n)return Ac(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ia(t,r);{const i=t[e.index];return Vt(i)?Ac(-1,i):je(i)}}if(32&n)return Cc(e,t)()||je(t[e.index]);{const r=Cm(t,e);return null!==r?Array.isArray(r)?r[0]:Ia(ks(t[Ge]),r):Ia(t,e.next)}}return null}function Cm(t,e){return null!==e?t[Ge][ze].projection[e.projection]:null}function Ac(t,e){const n=Qe+t+1;if(n<e.length){const r=e[n],i=r[T].firstChild;if(null!==i)return Ia(r,i)}return e[ia]}function Pc(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&We(je(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Pc(t,e,n.child,r,i,s,!1),hi(e,t,i,a,s);else if(32&l){const u=Cc(n,r);let c;for(;c=u();)hi(e,t,i,c,s);hi(e,t,i,a,s)}else 16&l?wm(t,e,r,n,i,s):hi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function js(t,e,n,r,i,s){Pc(n,r,t.firstChild,e,i,s,!1)}function wm(t,e,n,r,i,s){const o=n[Ge],l=o[ze].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)hi(e,t,i,l[u],s);else Pc(t,e,l,o[ge],i,s,!0)}function Im(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Tm(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ic(t,e,r),null!==i&&Im(t,e,i),null!==s&&function bS(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const Ma=new N("ENVIRONMENT_INITIALIZER"),Vm=new N("INJECTOR",-1),$m=new N("INJECTOR_DEF_TYPES");class Bm{get(e,n=_s){if(n===_s){const r=new Error(`NullInjectorError: No provider for ${ae(e)}!`);throw r.name="NullInjectorError",r}return n}}function eb(...t){return{\u0275providers:Hm(0,t),\u0275fromNgModule:!0}}function Hm(t,...e){const n=[],r=new Set;let i;return Sr(e,s=>{const o=s;Vc(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&zm(i,n),n}function zm(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];$c(i,s=>{e.push(s)})}}function Vc(t,e,n,r){if(!(t=R(t)))return!1;let i=null,s=Zg(t);const o=!s&&J(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Zg(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)Vc(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Sr(s.imports,c=>{Vc(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&zm(u,e)}if(!a){const u=Cr(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:Y},{provide:$m,useValue:i,multi:!0},{provide:Ma,useValue:()=>x(i),multi:!0})}const l=s.providers;null==l||a||$c(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}function $c(t,e){for(let n of t)Fu(n)&&(n=n.\u0275providers),Array.isArray(n)?$c(n,e):e(n)}const tb=se({provide:String,useValue:se});function Bc(t){return null!==t&&"object"==typeof t&&tb in t}function Mr(t){return"function"==typeof t}const Hc=new N("Set Injector scope."),Ra={},rb={};let zc;function Aa(){return void 0===zc&&(zc=new Bm),zc}class bn{}class Zm extends bn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wc(e,o=>this.processProvider(o)),this.records.set(Vm,gi(void 0,this)),i.has("environment")&&this.records.set(bn,gi(void 0,this));const s=this.records.get(Hc);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($m.multi,Y,A.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Yr(this),r=bt(void 0);try{return e()}finally{Yr(n),bt(r)}}get(e,n=_s,r=A.Default){this.assertNotDestroyed(),r=Jo(r);const i=Yr(this),s=bt(void 0);try{if(!(r&A.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function lb(t){return"function"==typeof t||"object"==typeof t&&t instanceof N}(e)&&Yo(e);a=l&&this.injectableDefInScope(l)?gi(Gc(e),Ra):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&A.Self?Aa():this.parent).get(e,n=r&A.Optional&&n===_s?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Qo]=o[Qo]||[]).unshift(ae(e)),i)throw o;return function PI(t,e,n,r){const i=t[Qo];throw e[Yg]&&i.unshift(e[Yg]),t.message=function NI(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==RI?t.slice(2):t;let i=ae(e);if(Array.isArray(e))i=e.map(ae).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ae(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(MI,"\n  ")}`}("\n"+t.message,i,n,r),t[bI]=i,t[Qo]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{bt(s),Yr(i)}}resolveInjectorInitializers(){const e=Yr(this),n=bt(void 0);try{const r=this.get(Ma.multi,Y,A.Self);for(const i of r)i()}finally{Yr(e),bt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ae(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=Mr(e=R(e))?e:R(e&&e.provide);const r=function sb(t){return Bc(t)?gi(void 0,t.useValue):gi(function qm(t,e,n){let r;if(Mr(t)){const i=R(t);return Cr(i)||Gc(i)}if(Bc(t))r=()=>R(t.useValue);else if(function Wm(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Vu(t.deps||[]));else if(function Gm(t){return!(!t||!t.useExisting)}(t))r=()=>x(R(t.useExisting));else{const i=R(t&&(t.useClass||t.provide));if(!function ob(t){return!!t.deps}(t))return Cr(i)||Gc(i);r=()=>new i(...Vu(t.deps))}return r}(t),Ra)}(e);if(Mr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=gi(void 0,Ra,!0),i.factory=()=>Vu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ra&&(n.value=rb,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ab(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=R(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Gc(t){const e=Yo(t),n=null!==e?e.factory:Cr(t);if(null!==n)return n;if(t instanceof N)throw new C(204,!1);if(t instanceof Function)return function ib(t){const e=t.length;if(e>0)throw function xs(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function wI(t){const e=t&&(t[Xo]||t[qg]);return e?(function II(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),e):null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Wc(t,e){for(const n of t)Array.isArray(n)?Wc(n,e):n&&Fu(n)?Wc(n.\u0275providers,e):e(n)}class ub{}class Km{}class db{resolveComponentFactory(e){throw function cb(t){const e=Error(`No component factory found for ${ae(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Bs=(()=>{class t{}return t.NULL=new db,t})();function hb(){return pi(Ue(),E())}function pi(t,e){return new Yn(_t(t,e))}let Yn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=hb,t})();class Xm{}let pb=(()=>{class t{}return t.\u0275prov=F({token:t,providedIn:"root",factory:()=>null}),t})();class Pa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const mb=new Pa("15.2.5"),Zc={},qc="ngOriginalError";function Kc(t){return t[qc]}class mi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Kc(e);for(;n&&Kc(n);)n=Kc(n);return n||null}}function Mn(t){return t instanceof Function?t():t}function Jm(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const ey="ng-template";function bb(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Jm(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ty(t){return 4===t.type&&t.value!==ey}function Mb(t,e,n){return e===(4!==t.type||n?t.value:ey)}function Rb(t,e,n){let r=4;const i=t.attrs||[],s=function Pb(t){for(let e=0;e<t.length;e++)if(bp(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Mb(t,l,n)||""===l&&1===e.length){if(Bt(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!bb(t.attrs,u,n)){if(Bt(r))return!1;o=!0}continue}const d=Ab(8&r?"class":l,i,ty(t),n);if(-1===d){if(Bt(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Jm(f,u,0)||2&r&&u!==h){if(Bt(r))return!1;o=!0}}}}else{if(!o&&!Bt(r)&&!Bt(l))return!1;if(o&&Bt(l))continue;o=!1,r=l|1&r}}return Bt(r)||o}function Bt(t){return 0==(1&t)}function Ab(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Nb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ny(t,e,n=!1){for(let r=0;r<e.length;r++)if(Rb(t,e[r],n))return!0;return!1}function ry(t,e){return t?":not("+e.trim()+")":e}function Lb(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Bt(o)&&(e+=ry(s,i),i=""),r=o,s=s||!Bt(r);n++}return""!==i&&(e+=ry(s,i)),e}const U={};function ly(t,e=null,n=null,r){const i=uy(t,e,n,r);return i.resolveInjectorInitializers(),i}function uy(t,e=null,n=null,r,i=new Set){const s=[n||Y,eb(t)];return r=r||("object"==typeof t?void 0:ae(t)),new Zm(s,e||Aa(),r||null,i)}let Rn=(()=>{class t{static create(n,r){if(Array.isArray(n))return ly({name:""},r,n,"");{const i=n.name??"";return ly({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=_s,t.NULL=new Bm,t.\u0275prov=F({token:t,providedIn:"any",factory:()=>x(Vm)}),t.__NG_ELEMENT_ID__=-1,t})();function O(t,e=A.Default){const n=E();return null===n?x(t,e):Fp(Ue(),n,R(t),e)}function yy(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Ju(n[r]),o.contentQueries(2,e[s],s)}}}function Oa(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[wn]=i,d[$]=76|r,(null!==c||t&&1024&t[$])&&(d[$]|=1024),fp(d),d[ge]=d[Jr]=t,d[ve]=n,d[ra]=o||t&&t[ra],d[H]=a||t&&t[H],d[zu]=l||t&&t[zu]||null,d[na]=u||t&&t[na]||null,d[ze]=s,d[Is]=function tS(){return eS++}(),d[rp]=c,d[Ge]=2==e.type?t[Ge]:d,d}function vi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ed(t,e,n,r,i){const s=mp(),o=Ku(),l=t.data[e]=function lM(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function sT(){return j.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ss(){const t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return rn(s,!0),s}function Hs(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function td(t,e,n){ec(e);try{const r=t.viewQuery;null!==r&&dd(1,r,n);const i=t.template;null!==i&&_y(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yy(t,e),t.staticViewQueries&&dd(2,t.viewQuery,n);const s=t.components;null!==s&&function sM(t,e){for(let n=0;n<e.length;n++)bM(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[$]&=-5,tc()}}function La(t,e,n,r){const i=e[$];if(128!=(128&i)){ec(e);try{fp(e),function _p(t){return j.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_y(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&ca(e,u,null)}else{const u=t.preOrderHooks;null!==u&&da(e,u,0,null),nc(e,0)}if(function TM(t){for(let e=wc(t);null!==e;e=Ic(e)){if(!e[ip])continue;const n=e[ti];for(let r=0;r<n.length;r++){const i=n[r];512&i[$]||qu(i[ge],1),i[$]|=512}}}(e),function IM(t){for(let e=wc(t);null!==e;e=Ic(e))for(let n=Qe;n<e.length;n++){const r=e[n],i=r[T];la(r)&&La(i,r,i.template,r[ve])}}(e),null!==t.contentQueries&&yy(t,e),o){const u=t.contentCheckHooks;null!==u&&ca(e,u)}else{const u=t.contentHooks;null!==u&&da(e,u,1),nc(e,1)}!function rM(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ir(~i);else{const s=i,o=n[++r],a=n[++r];oT(o,s),a(2,e[s])}}}finally{Ir(-1)}}(t,e);const a=t.components;null!==a&&function iM(t,e){for(let n=0;n<e.length;n++)SM(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&dd(2,l,r),o){const u=t.viewCheckHooks;null!==u&&ca(e,u)}else{const u=t.viewHooks;null!==u&&da(e,u,2),nc(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[$]&=-41,512&e[$]&&(e[$]&=-513,qu(e[ge],-1))}finally{tc()}}}function _y(t,e,n,r,i){const s=function et(){return j.lFrame.selectedIndex}(),o=2&r;try{Ir(-1),o&&e.length>ce&&function iy(t,e,n,r){if(!r)if(3==(3&e[$])){const s=t.preOrderCheckHooks;null!==s&&ca(e,s,n)}else{const s=t.preOrderHooks;null!==s&&da(e,s,0,n)}Ir(n)}(t,e,ce,!1),Mt(o?2:0,i),n(r,i)}finally{Ir(s),Mt(o?3:1,i)}}function nd(t,e,n){if(Wu(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function vy(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=sd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function sd(t,e,n,r,i,s,o,a,l,u){const c=ce+r,d=c+i,h=function oM(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:U);return n}(c,d),f="function"==typeof u?u():u;return h[T]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Dy(t,e,n,r){const i=function by(t){return t[Qr]||(t[Qr]=[])}(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&function My(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1))}function Ey(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Cy(n,e,i,s):r.hasOwnProperty(i)&&Cy(n,e,r[i],s)}return n}function Cy(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Iy(t,e,n,r,i,s){for(let u=0;u<r.length;u++)lc(pa(n,e),t,r[u].type);!function vM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Hs(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Ms(n.mergedAttrs,c.hostAttrs),DM(t,n,e,l,c),_M(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function uM(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=n?n.get(d):null,g=h?h.outputs:null;l=Ey(d.inputs,c,l,h?h.inputs:null),u=Ey(d.outputs,c,u,g);const p=null===l||null===o||ty(e)?null:wM(l,c,o);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,s)}function Ty(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function aT(){return j.lFrame.currentDirectiveIndex}();try{Ir(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Xu(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&pM(l,u)}}finally{Ir(-1),Xu(o)}}function pM(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ad(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function _M(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$t(e)&&(n[""]=t)}}function DM(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Cr(i.type)),o=new bs(s,$t(i),O);t.blueprint[r]=o,n[r]=o,function hM(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function fM(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Hs(t,n,i.hostVars,U),i)}function CM(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function wM(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function SM(t,e){const n=vt(e,t);if(la(n)){const r=n[T];48&n[$]?La(r,n,r.template,n[ve]):n[Er]>0&&ud(n)}}function ud(t){for(let r=wc(t);null!==r;r=Ic(r))for(let i=Qe;i<r.length;i++){const s=r[i];if(la(s))if(512&s[$]){const o=s[T];La(o,s,o.template,s[ve])}else s[Er]>0&&ud(s)}const n=t[T].components;if(null!==n)for(let r=0;r<n.length;r++){const i=vt(n[r],t);la(i)&&i[Er]>0&&ud(i)}}function bM(t,e){const n=vt(e,t),r=n[T];(function MM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),td(r,n,n[ve])}function Fa(t,e){return t[Cs]?t[np][Ut]=e:t[Cs]=e,t[np]=e,e}function ka(t,e,n,r=!0){const i=e[ra];i.begin&&i.begin();try{La(t,e,t.template,n)}catch(o){throw r&&function Ay(t,e){const n=t[na],r=n?n.get(mi,null):null;r&&r.handleError(e)}(e,o),o}finally{i.end&&i.end()}}function dd(t,e,n){Ju(0),e(t,n)}function hd(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function ja(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Nu(i,a):2==s&&(r=Nu(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ua(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(je(s)),Vt(s))for(let a=Qe;a<s.length;a++){const l=s[a],u=l[T].firstChild;null!==u&&Ua(l[T],l,u,r)}const o=n.type;if(8&o)Ua(t,e,n.child,r);else if(32&o){const a=Cc(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Cm(e,n);if(Array.isArray(a))r.push(...a);else{const l=ks(e[Ge]);Ua(l[T],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class zs{get rootNodes(){const e=this._lView,n=e[T];return Ua(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ve]}set context(e){this._lView[ve]=e}get destroyed(){return 128==(128&this._lView[$])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ge];if(Vt(e)){const n=e[sa],r=n?n.indexOf(this):-1;r>-1&&(bc(e,r),_a(n,r))}this._attachedToViewContainer=!1}fm(this._lView[T],this._lView)}onDestroy(e){Dy(this._lView[T],this._lView,null,e)}markForCheck(){!function cd(t){for(;t;){t[$]|=32;const e=ks(t);if(UI(t)&&!e)return t;t=e}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-65}reattach(){this._lView[$]|=64}detectChanges(){ka(this._lView[T],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mS(t,e){js(t,e,e[H],2,null,null)}(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class RM extends zs{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ka(e[T],e,e[ve],!1)}checkNoChanges(){}get context(){return null}}class xy extends Bs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=J(e);return new Gs(n,this.ngModule)}}function Py(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class xM{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Jo(r);const i=this.injector.get(e,Zc,r);return i!==Zc||n===Zc?i:this.parentInjector.get(e,n,r)}}class Gs extends Km{get inputs(){return Py(this.componentDef.inputs)}get outputs(){return Py(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Fb(t){return t.map(Lb).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof bn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new xM(e,s):e,a=o.get(Xm,null);if(null===a)throw new C(407,!1);const l=o.get(pb,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function aM(t,e,n){return t.selectRootElement(e,n===tn.ShadowDom)}(u,r,this.componentDef.encapsulation):Sc(u,c,function AM(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=sd(0,null,null,1,0,null,null,null,null,null),g=Oa(null,f,null,h,null,null,a,u,l,o,null);let p,m;ec(g);try{const _=this.componentDef;let v,y=null;_.findHostDirectiveDefs?(v=[],y=new Map,_.findHostDirectiveDefs(_,v,y),v.push(_)):v=[_];const D=function NM(t,e){const n=t[T],r=ce;return t[r]=e,vi(n,r,2,"#host",null)}(g,d),I=function OM(t,e,n,r,i,s,o,a){const l=i[T];!function LM(t,e,n,r){for(const i of t)e.mergedAttrs=Ms(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ja(e,e.mergedAttrs,!0),null!==n&&Tm(r,n,e))}(r,t,e,o);const u=s.createRenderer(e,n),c=Oa(i,vy(n),null,n.onPush?32:16,i[t.index],t,s,u,a||null,null,null);return l.firstCreatePass&&ad(l,t,r.length-1),Fa(i,c),i[t.index]=c}(D,d,_,v,g,a,u);m=function hp(t,e){return t.data[e]}(f,ce),d&&function kM(t,e,n,r){if(r)ic(t,n,["ng-version",mb.full]);else{const{attrs:i,classes:s}=function kb(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Bt(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ic(t,n,i),s&&s.length>0&&Im(t,n,s.join(" "))}}(u,_,d,r),void 0!==n&&function jM(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),p=function FM(t,e,n,r,i,s){const o=Ue(),a=i[T],l=_t(o,i);Iy(a,i,o,n,null,r);for(let c=0;c<n.length;c++)We(Tr(i,a,o.directiveStart+c,o),i);Ty(a,i,o),l&&We(l,i);const u=Tr(i,a,o.directiveStart+o.componentOffset,o);if(t[ve]=i[ve]=u,null!==s)for(const c of s)c(u,e);return nd(a,o,t),u}(I,_,v,y,g,[UM]),td(f,g,null)}finally{tc()}return new PM(this.componentType,p,pi(m,g),g,m)}}class PM extends ub{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new RM(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;hd(s[T],s,i,e,n),function wy(t,e){const n=vt(e,t);16&n[$]||(n[$]|=32)}(s,this._tNode.index)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function UM(){const t=Ue();ua(E()[T],t)}function md(t,e,n,r,i){const o=i?"class":"style";hd(t,n,e.inputs[o],o,r)}function Ri(t,e,n,r){const i=E(),s=K(),o=ce+t,a=i[H],l=s.firstCreatePass?function rR(t,e,n,r,i,s){const o=e.consts,l=vi(e,t,2,r,qn(o,i));return function od(t,e,n,r){if(pp()){const i=null===r?null:{"":-1},s=function mM(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(ny(e,o.selectors,!1))if(r||(r=[]),$t(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ad(t,e,a.length)}else r.unshift(o),ad(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Iy(t,e,n,o,i,a),i&&function yM(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ms(n.mergedAttrs,n.attrs)}(e,n,l,qn(o,s)),null!==l.attrs&&ja(l,l.attrs,!1),null!==l.mergedAttrs&&ja(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],u=i[o]=Sc(a,e,function pT(){return j.lFrame.currentNamespace}()),c=function oa(t){return 1==(1&t.flags)}(l);return rn(l,!0),Tm(a,u,l),32!=(32&l.flags)&&wa(s,i,u,l),0===function XI(){return j.lFrame.elementDepthCount}()&&We(u,i),function QI(){j.lFrame.elementDepthCount++}(),c&&(function rd(t,e,n){pp()&&(function gM(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ts(n)&&function EM(t,e,n){const r=_t(e,t),i=vy(n),s=t[ra],o=Fa(t,Oa(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||pa(n,e),We(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=Tr(e,t,a,n);We(u,e),null!==o&&CM(0,a-i,u,l,0,o),$t(l)&&(vt(n.index,e)[ve]=Tr(e,t,a,n))}}(t,e,n,_t(n,e)),64==(64&n.flags)&&Ty(t,e,n))}(s,i,l),nd(s,l,i)),null!==r&&function id(t,e,n=_t){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,l),Ri}function Ai(){let t=Ue();Ku()?function Yu(){j.lFrame.isParent=!1}():(t=t.parent,rn(t,!1));const e=t;!function JI(){j.lFrame.elementDepthCount--}();const n=K();return n.firstCreatePass&&(ua(n,t),Wu(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function vT(t){return 0!=(8&t.flags)}(e)&&md(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function DT(t){return 0!=(16&t.flags)}(e)&&md(n,e,E(),e.stylesWithoutHost,!1),Ai}function Ba(t,e,n,r){return Ri(t,e,n,r),Ai(),Ba}function Ha(t){return!!t&&"function"==typeof t.then}const Yy=function Ky(t){return!!t&&"function"==typeof t.subscribe};function Td(t,e=""){const n=E(),r=K(),i=t+ce,s=r.firstCreatePass?vi(r,i,1,e,null):r.data[i],o=n[i]=function Tc(t,e){return t.createText(e)}(n[H],e);wa(r,n,o,s),rn(s,!1)}const Ni="en-US";let Z_=Ni;class Oi{}class vv{}class Dv extends Oi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xy(this);const r=mt(e);this._bootstrapComponents=Mn(r.bootstrap),this._r3Injector=uy(e,n,[{provide:Oi,useValue:this},{provide:Bs,useValue:this.componentFactoryResolver}],ae(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Nd extends vv{constructor(e){super(),this.moduleType=e}create(e){return new Dv(this.moduleType,e)}}class QA extends Oi{constructor(e,n,r){super(),this.componentFactoryResolver=new xy(this),this.instance=null;const i=new Zm([...e,{provide:Oi,useValue:this},{provide:Bs,useValue:this.componentFactoryResolver}],n||Aa(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ya(t,e,n=null){return new QA(t,e,n).injector}let JA=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Hm(0,n.type),i=r.length>0?Ya([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=F({token:t,providedIn:"environment",factory:()=>new t(x(bn))}),t})();function Ev(t){t.getStandaloneInjector=e=>e.get(JA).getOrCreateStandaloneInjector(t)}function Ld(t){return e=>{setTimeout(t,void 0,e)}}const nt=class Tx extends _n{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ld(s),i&&(i=Ld(i)),o&&(o=Ld(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tt&&e.add(a),a}};let Gt=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ax,t})();function Ax(){return function Lv(t,e){let n;const r=e[t.index];if(Vt(r))n=r;else{let i;if(8&t.type)i=je(r);else{const s=e[H];i=s.createComment("");const o=_t(t,e);br(s,Ca(s,o),i,function wS(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=function Sy(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}(r,e,i,t),Fa(e,n)}return new Nv(n,t,e)}(Ue(),E())}const xx=Gt,Nv=class extends xx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pi(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const e=ac(this._hostTNode,this._hostLView);if(Ap(e)){const n=fa(e,this._hostLView),r=ha(e);return new si(n[T].data[r+8],n)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Ov(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function As(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Gs(J(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(bn,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[T];if(function YI(t){return Vt(t[ge])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[ge],h=new Nv(d,d[ze],d[ge]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function _S(t,e,n,r){const i=Qe+r,s=n.length;r>0&&(n[i-1][Ut]=e),r<s-Qe?(e[Ut]=n[i],Hp(n,Qe+r,e)):(n.push(e),e[Ut]=null),e[ge]=n;const o=e[ws];null!==o&&n!==o&&function vS(t,e){const n=t[ti];e[Ge]!==e[ge][ge][Ge]&&(t[ip]=!0),null===n?t[ti]=[e]:n.push(e)}(o,e);const a=e[nn];null!==a&&a.insertView(t),e[$]|=64}(i,r,o,s);const a=Ac(s,o),l=r[H],u=Ca(l,o[ia]);return null!==u&&function pS(t,e,n,r,i,s){r[wn]=i,r[ze]=e,js(t,r,n,1,i,s)}(i,o[ze],l,r,u,a),e.attachToViewContainerRef(),Hp(kd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Ov(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=bc(this._lContainer,n);r&&(_a(kd(this._lContainer),n),fm(r[T],r))}detach(e){const n=this._adjustIndex(e,-1),r=bc(this._lContainer,n);return r&&null!=_a(kd(this._lContainer),n)?new zs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ov(t){return t[sa]}function kd(t){return t[sa]||(t[sa]=[])}function Ja(...t){}const el=new N("Application Initializer");let tl=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ja,this.reject=Ja,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ha(s))n.push(s);else if(Yy(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(x(el,8))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const no=new N("AppId",{providedIn:"root",factory:function aD(){return`${qd()}${qd()}${qd()}`}});function qd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lD=new N("Platform Initializer"),uD=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let s1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Pn=new N("LocaleId",{providedIn:"root",factory:()=>Z(Pn,A.Optional|A.SkipSelf)||function o1(){return typeof $localize<"u"&&$localize.locale||Ni}()});class l1{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let cD=(()=>{class t{compileModuleSync(n){return new Nd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Mn(mt(n).declarations).reduce((o,a)=>{const l=J(a);return l&&o.push(new Gs(l)),o},[]);return new l1(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d1=(()=>Promise.resolve(0))();function Kd(t){typeof Zone>"u"?d1.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class De{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function h1(){let t=ue.requestAnimationFrame,e=ue.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function p1(t){const e=()=>{!function g1(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ue,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xd(t),t.isCheckStableRunning=!0,Yd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return fD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),gD(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return fD(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),gD(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Xd(t),Yd(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,f1,Ja,Ja);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const f1={};function Yd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gD(t){t._nesting--,Yd(t)}class m1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const pD=new N(""),nl=new N("");let eh,Qd=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eh||(function y1(t){eh=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),Kd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(x(De),x(Jd),x(nl))},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})(),Jd=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return eh?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Nn=!1;let Qn=null;const mD=new N("AllowMultipleToken"),th=new N("PlatformDestroyListeners"),yD=new N("appBootstrapListener");class _D{constructor(e,n){this.name=e,this.token=n}}function DD(t,e,n=[]){const r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=nh();if(!o||o.injector.get(mD,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function D1(t){if(Qn&&!Qn.get(mD,!1))throw new C(400,!1);Qn=t;const e=t.get(CD);(function vD(t){const e=t.get(lD,null);e&&e.forEach(n=>n())})(t)}(function ED(t=[],e){return Rn.create({name:e,providers:[{provide:Hc,useValue:"platform"},{provide:th,useValue:new Set([()=>Qn=null])},...t]})}(a,r))}return function C1(t){const e=nh();if(!e)throw new C(401,!1);return e}()}}function nh(){return Qn?.get(CD)??null}let CD=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ID(t,e){let n;return n="noop"===t?new m1:("zone.js"===t?void 0:t)||new De(e),n}(r?.ngZone,function wD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:De,useValue:i}];return i.run(()=>{const o=Rn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(mi,null);if(!l)throw new C(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{il(this._modules,a),u.unsubscribe()})}),function TD(t,e,n){try{const r=n();return Ha(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(tl);return u.runInitializers(),u.donePromise.then(()=>(function q_(t){St(t,"Expected localeId to be defined"),"string"==typeof t&&(Z_=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Pn,Ni)||Ni),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=SD({},r);return function _1(t,e,n){const r=new Nd(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(rl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new C(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(th,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(x(Rn))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function SD(t,e){return Array.isArray(e)?e.reduce(SD,t):{...t,...e}}let rl=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Me(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Me(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),Kd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function gI(...t){const e=ys(t),n=function aI(t,e){return"number"==typeof Au(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?jt(r[0]):Kr(n)(Re(r,e)):Jt}(s,o.pipe(function pI(t={}){const{connector:e=(()=>new _n),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},g=()=>{const p=o;f(),p?.unsubscribe()};return Oe((p,m)=>{u++,!d&&!c&&h();const _=l=l??e();m.add(()=>{u--,0===u&&!d&&!c&&(a=xu(g,i))}),_.subscribe(m),!o&&u>0&&(o=new ms({next:v=>_.next(v),error:v=>{d=!0,h(),a=xu(f,n,v),_.error(v)},complete:()=>{c=!0,h(),a=xu(f,r),_.complete()}}),jt(p).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof Km;if(!this._injector.get(tl).done){!i&&function Xr(t){const e=J(t)||He(t)||at(t);return null!==e&&e.standalone}(n);throw new C(405,Nn)}let o;o=i?n:this._injector.get(Bs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function v1(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Oi),u=o.create(Rn.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(pD,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),il(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;il(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(yD,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>il(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(x(De),x(bn),x(mi))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function il(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let rh=(()=>{class t{}return t.__NG_ELEMENT_ID__=I1,t})();function I1(t){return function T1(t,e,n){if(Ts(t)&&!n){const r=vt(t.index,e);return new zs(r,r)}return 47&t.type?new zs(e[Ge],e):null}(Ue(),E(),16==(16&t))}const j1=DD(null,"core",[]);let U1=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(x(rl))},t.\u0275mod=Dr({type:t}),t.\u0275inj=Zn({}),t})(),uh=null;function Nr(){return uh}class B1{}const ct=new N("DocumentToken");let ch=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:function(){return function H1(){return x(kD)}()},providedIn:"platform"}),t})();const z1=new N("Location Initialized");let kD=(()=>{class t extends ch{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nr().getBaseHref(this._doc)}onPopState(n){const r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){jD()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){jD()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(x(ct))},t.\u0275prov=F({token:t,factory:function(){return function G1(){return new kD(x(ct))}()},providedIn:"platform"}),t})();function jD(){return!!window.history.pushState}function dh(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function UD(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function On(t){return t&&"?"!==t[0]?"?"+t:t}let Or=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:function(){return Z($D)},providedIn:"root"}),t})();const VD=new N("appBaseHref");let $D=(()=>{class t extends Or{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Z(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dh(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+On(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+On(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+On(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(x(ch),x(VD,8))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),W1=(()=>{class t extends Or{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=dh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+On(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+On(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(x(ch),x(VD,8))},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})(),hh=(()=>{class t{constructor(n){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function K1(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(UD(BD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+On(r))}normalize(n){return t.stripTrailingSlash(function q1(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,BD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+On(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+On(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=On,t.joinWithSlash=dh,t.stripTrailingSlash=UD,t.\u0275fac=function(n){return new(n||t)(x(Or))},t.\u0275prov=F({token:t,factory:function(){return function Z1(){return new hh(x(Or))}()},providedIn:"root"}),t})();function BD(t){return t.replace(/\/index.html$/,"")}let cN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Dr({type:t}),t.\u0275inj=Zn({}),t})();let gN=(()=>{class t{}return t.\u0275prov=F({token:t,providedIn:"root",factory:()=>new pN(x(ct),window)}),t})();class pN{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function mN(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sE(this.window.history)||sE(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class zN extends B1{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rh extends zN{static makeCurrent(){!function $1(t){uh||(uh=t)}(new Rh)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function GN(){return ao=ao||document.querySelector("base"),ao?ao.getAttribute("href"):null}();return null==n?null:function WN(t){vl=vl||document.createElement("a"),vl.setAttribute("href",t);const e=vl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ao=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function PP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let vl,ao=null;const cE=new N("TRANSITION_ID"),qN=[{provide:el,useFactory:function ZN(t,e,n){return()=>{n.get(tl).donePromise.then(()=>{const r=Nr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[cE,ct,Rn],multi:!0}];let YN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})();const Dl=new N("EventManagerPlugins");let El=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(x(Dl),x(De))},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})();class dE{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Nr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let hE=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})(),lo=(()=>{class t extends hE{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(x(ct))},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})();const Ah={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xh=/%COMP%/g,pE=new N("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mE(t,e){return e.flat(100).map(n=>n.replace(xh,t))}function yE(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ph=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Nh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof DE?i.applyToHost(n):i instanceof Oh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case tn.Emulated:s=new DE(o,a,r,this.appId,l);break;case tn.ShadowDom:return new rO(o,a,n,r);default:s=new Oh(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(x(El),x(lo),x(no),x(pE))},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})();class Nh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Ah[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(vE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Ah[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ah[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(lt.DashCase|lt.Important)?e.style.setProperty(n,r,i&lt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&lt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,yE(r)):this.eventManager.addEventListener(e,n,yE(r))}}function vE(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class rO extends Nh{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=mE(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oh extends Nh{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=mE(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class DE extends Oh{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function eO(t){return"_ngcontent-%COMP%".replace(xh,t)}(o),this.hostAttr=function tO(t){return"_nghost-%COMP%".replace(xh,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let iO=(()=>{class t extends dE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(x(ct))},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})();const EE=["alt","control","meta","shift"],sO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let aO=(()=>{class t extends dE{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),EE.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=sO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),EE.forEach(o=>{o!==i&&(0,oO[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(x(ct))},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})();const dO=DD(j1,"browser",[{provide:uD,useValue:"browser"},{provide:lD,useValue:function lO(){Rh.makeCurrent()},multi:!0},{provide:ct,useFactory:function cO(){return function xS(t){Oc=t}(document),document},deps:[]}]),IE=new N(""),TE=[{provide:nl,useClass:class KN{addToWindow(e){ue.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ue.getAllAngularTestabilities=()=>e.getAllTestabilities(),ue.getAllAngularRootElements=()=>e.getAllRootElements(),ue.frameworkStabilizers||(ue.frameworkStabilizers=[]),ue.frameworkStabilizers.push(r=>{const i=ue.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Nr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:pD,useClass:Qd,deps:[De,Jd,nl]},{provide:Qd,useClass:Qd,deps:[De,Jd,nl]}],SE=[{provide:Hc,useValue:"root"},{provide:mi,useFactory:function uO(){return new mi},deps:[]},{provide:Dl,useClass:iO,multi:!0,deps:[ct,De,uD]},{provide:Dl,useClass:aO,multi:!0,deps:[ct]},{provide:Ph,useClass:Ph,deps:[El,lo,no,pE]},{provide:Xm,useExisting:Ph},{provide:hE,useExisting:lo},{provide:lo,useClass:lo,deps:[ct]},{provide:El,useClass:El,deps:[Dl,De]},{provide:class yN{},useClass:YN,deps:[]},[]];let hO=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:no,useValue:n.appId},{provide:cE,useExisting:no},qN]}}}return t.\u0275fac=function(n){return new(n||t)(x(IE,12))},t.\u0275mod=Dr({type:t}),t.\u0275inj=Zn({providers:[...SE,...TE],imports:[cN,U1]}),t})(),bE=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(x(ct))},t.\u0275prov=F({token:t,factory:function(n){let r=null;return r=n?new n:function gO(){return new bE(x(ct))}(),r},providedIn:"root"}),t})();function M(...t){return Re(t,ys(t))}typeof window<"u"&&window;class Kt extends _n{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Cl=gs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:DO}=Array,{getPrototypeOf:EO,prototype:CO,keys:wO}=Object;const{isArray:SO}=Array;function AE(...t){const e=ys(t),n=function oI(t){return oe(Au(t))?t.pop():void 0}(t),{args:r,keys:i}=function IO(t){if(1===t.length){const e=t[0];if(DO(e))return{args:e,keys:null};if(function TO(t){return t&&"object"==typeof t&&EO(t)===CO}(e)){const n=wO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Re([],e);const s=new Me(function AO(t,e,n=_r){return r=>{xE(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)xE(e,()=>{const u=Re(t[l],e);let c=!1;u.subscribe(Le(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function RO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):_r));return n?s.pipe(function MO(t){return W(e=>function bO(t,e){return SO(e)?t(...e):t(e)}(t,e))}(n)):s}function xE(t,e,n){t?vn(n,t,e):e()}function kh(...t){return function xO(){return Kr(1)}()(Re(t,ys(t)))}function PE(t){return new Me(e=>{jt(t()).subscribe(e)})}function uo(t,e){const n=oe(t)?t:()=>t,r=i=>i.error(n());return new Me(e?i=>e.schedule(r,0,i):r)}function jh(){return Oe((t,e)=>{let n=null;t._refCount++;const r=Le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class NE extends Me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Mg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const n=this.getSubject();e.add(this.source.subscribe(Le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return jh()(this)}}function cn(t,e){return Oe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Le(r,l=>{i?.unsubscribe();let u=0;const c=s++;jt(t(l,c)).subscribe(i=Le(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function co(t){return t<=0?()=>Jt:Oe((e,n)=>{let r=0;e.subscribe(Le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function er(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Le(r,s=>t.call(e,s,i++)&&r.next(s)))})}function wl(t){return Oe((e,n)=>{let r=!1;e.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function OE(t=NO){return Oe((e,n)=>{let r=!1;e.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function NO(){return new Cl}function tr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?er((i,s)=>t(i,s,r)):_r,co(1),n?wl(e):OE(()=>new Cl))}function Lr(t,e){return oe(e)?ke(t,e,1):ke(t,1)}function qe(t,e,n){const r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Oe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Le(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):_r}function nr(t){return Oe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Le(n,void 0,void 0,o=>{s=jt(t(o,nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function LE(t,e){return Oe(function OO(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(Le(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}function Uh(t){return t<=0?()=>Jt:Oe((e,n)=>{let r=[];e.subscribe(Le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function FE(t,e){const n=arguments.length>=2;return r=>r.pipe(t?er((i,s)=>t(i,s,r)):_r,Uh(1),n?wl(e):OE(()=>new Cl))}function Vh(t){return Oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const V="primary",ho=Symbol("RouteTitle");class kO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ki(t){return new kO(t)}function jO(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!kE(t[i],e[i]))return!1;return!0}function kE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function jE(t){return Array.prototype.concat.apply([],t)}function UE(t){return t.length>0?t[t.length-1]:null}function Ve(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function rr(t){return Yy(t)?t:Ha(t)?Re(Promise.resolve(t)):M(t)}const Il=!1,VO={exact:function BE(t,e,n){if(!Fr(t.segments,e.segments)||!Tl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!BE(t.children[r],e.children[r],n))return!1;return!0},subset:HE},VE={exact:function $O(t,e){return dn(t,e)},subset:function BO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kE(t[n],e[n]))},ignored:()=>!0};function $E(t,e,n){return VO[n.paths](t.root,e.root,n.matrixParams)&&VE[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function HE(t,e,n){return zE(t,e,e.segments,n)}function zE(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Fr(i,n)||e.hasChildren()||!Tl(i,n,r))}if(t.segments.length===n.length){if(!Fr(t.segments,n)||!Tl(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!HE(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Fr(t.segments,i)&&Tl(t.segments,i,r)&&t.children[V])&&zE(t.children[V],e,s,r)}}function Tl(t,e,n){return e.every((r,i)=>VE[n](t[i].parameters,r.parameters))}class ir{constructor(e=new z([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ki(this.queryParams)),this._queryParamMap}toString(){return GO.serialize(this)}}class z{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ve(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sl(this)}}class fo{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ki(this.parameters)),this._parameterMap}toString(){return ZE(this)}}function Fr(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let go=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:function(){return new $h},providedIn:"root"}),t})();class $h{parse(e){const n=new eL(e);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${po(e.root,!0)}`,r=function qO(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${bl(n)}=${bl(i)}`).join("&"):`${bl(n)}=${bl(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function WO(t){return encodeURI(t)}(e.fragment)}`:""}`}}const GO=new $h;function Sl(t){return t.segments.map(e=>ZE(e)).join("/")}function po(t,e){if(!t.hasChildren())return Sl(t);if(e){const n=t.children[V]?po(t.children[V],!1):"",r=[];return Ve(t.children,(i,s)=>{s!==V&&r.push(`${s}:${po(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function zO(t,e){let n=[];return Ve(t.children,(r,i)=>{i===V&&(n=n.concat(e(r,i)))}),Ve(t.children,(r,i)=>{i!==V&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===V?[po(t.children[V],!1)]:[`${i}:${po(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[V]?`${Sl(t)}/${n[0]}`:`${Sl(t)}/(${n.join("//")})`}}function GE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bl(t){return GE(t).replace(/%3B/gi,";")}function Bh(t){return GE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(t){return decodeURIComponent(t)}function WE(t){return Ml(t.replace(/\+/g,"%20"))}function ZE(t){return`${Bh(t.path)}${function ZO(t){return Object.keys(t).map(e=>`;${Bh(e)}=${Bh(t[e])}`).join("")}(t.parameters)}`}const KO=/^[^\/()?;=#]+/;function Rl(t){const e=t.match(KO);return e?e[0]:""}const YO=/^[^=?&#]+/,QO=/^[^&#]+/;class eL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new z(e,n)),r}parseSegment(){const e=Rl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,Il);return this.capture(e),new fo(Ml(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Rl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Rl(this.remaining);i&&(r=i,this.capture(r))}e[Ml(n)]=Ml(r)}parseQueryParam(e){const n=function XO(t){const e=t.match(YO);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function JO(t){const e=t.match(QO);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=WE(n),s=WE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,Il);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=V);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[V]:new z([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,Il)}}function Hh(t){return t.segments.length>0?new z([],{[V]:t}):t}function Al(t){const e={};for(const r of Object.keys(t.children)){const s=Al(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function tL(t){if(1===t.numberOfChildren&&t.children[V]){const e=t.children[V];return new z(t.segments.concat(e.segments),e.children)}return t}(new z(t.segments,e))}function kr(t){return t instanceof ir}const zh=!1;function nL(t,e,n,r,i){if(0===n.length)return ji(e.root,e.root,e.root,r,i);const s=function QE(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new XE(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ve(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new XE(n,e,r)}(n);return s.toRoot()?ji(e.root,e.root,new z([],{}),r,i):function o(l){const u=function iL(t,e,n,r){if(t.isAbsolute)return new Ui(e.root,!0,0);if(-1===r)return new Ui(n,n===e.root,0);return function JE(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,zh&&"Invalid number of '../'");i=r.segments.length}return new Ui(r,!1,i-s)}(n,r+(mo(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,l),c=u.processChildren?Vi(u.segmentGroup,u.index,s.commands):Gh(u.segmentGroup,u.index,s.commands);return ji(e.root,u.segmentGroup,c,r,i)}(t.snapshot?._lastPathIndex)}function mo(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yo(t){return"object"==typeof t&&null!=t&&t.outlets}function ji(t,e,n,r,i){let o,s={};r&&Ve(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===e?n:YE(t,e,n);const a=Hh(Al(o));return new ir(a,s,i)}function YE(t,e,n){const r={};return Ve(t.children,(i,s)=>{r[s]=i===e?n:YE(i,e,n)}),new z(t.segments,r)}class XE{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mo(r[0]))throw new C(4003,zh&&"Root segment cannot have matrix parameters");const i=r.find(yo);if(i&&i!==UE(r))throw new C(4004,zh&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ui{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Gh(t,e,n){if(t||(t=new z([],{})),0===t.segments.length&&t.hasChildren())return Vi(t,e,n);const r=function oL(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(yo(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!tC(l,u,o))return s;r+=2}else{if(!tC(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new z(t.segments.slice(0,r.pathIndex),{});return s.children[V]=new z(t.segments.slice(r.pathIndex),t.children),Vi(s,0,i)}return r.match&&0===i.length?new z(t.segments,{}):r.match&&!t.hasChildren()?Wh(t,e,n):r.match?Vi(t,0,i):Wh(t,e,n)}function Vi(t,e,n){if(0===n.length)return new z(t.segments,{});{const r=function sL(t){return yo(t[0])?t[0].outlets:{[V]:t}}(n),i={};return!r[V]&&t.children[V]&&1===t.numberOfChildren&&0===t.children[V].segments.length?Vi(t.children[V],e,n):(Ve(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Gh(t.children[o],e,s))}),Ve(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new z(t.segments,i))}}function Wh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(yo(s)){const l=aL(s.outlets);return new z(r,l)}if(0===i&&mo(n[0])){r.push(new fo(t.segments[e].path,eC(n[0]))),i++;continue}const o=yo(s)?s.outlets[V]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mo(a)?(r.push(new fo(o,eC(a))),i+=2):(r.push(new fo(o,{})),i++)}return new z(r,{})}function aL(t){const e={};return Ve(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Wh(new z([],{}),0,n))}),e}function eC(t){const e={};return Ve(t,(n,r)=>e[r]=`${n}`),e}function tC(t,e,n){return t==n.path&&dn(e,n.parameters)}const _o="imperative";class hn{constructor(e,n){this.id=e,this.url=n}}class Zh extends hn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends hn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xl extends hn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pl extends hn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class qh extends hn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lL extends hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uL extends hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cL extends hn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dL extends hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hL extends hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fL{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gL{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pL{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mL{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yL{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nC{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let EL=(()=>{class t{createUrlTree(n,r,i,s,o,a){return nL(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})(),wL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:function(e){return EL.\u0275fac(e)},providedIn:"root"}),t})();class rC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Kh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Kh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Yh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yh(e,this._root).map(n=>n.value)}}function Kh(t,e){if(t===e.value)return e;for(const n of e.children){const r=Kh(t,n);if(r)return r}return null}function Yh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Yh(t,n);if(r.length)return r.unshift(e),r}return[]}class Fn{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function $i(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class iC extends rC{constructor(e,n){super(e),this.snapshot=n,Xh(this,e)}toString(){return this.snapshot.toString()}}function sC(t,e){const n=function IL(t,e){const o=new Nl([],{},{},"",{},V,e,null,t.root,-1,{});return new aC("",new Fn(o,[]))}(t,e),r=new Kt([new fo("",{})]),i=new Kt({}),s=new Kt({}),o=new Kt({}),a=new Kt(""),l=new Bi(r,i,o,a,s,V,e,n.root);return l.snapshot=n.root,new iC(new Fn(l,[]),n)}class Bi{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(W(u=>u[ho]))??M(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(W(e=>ki(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(e=>ki(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oC(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function TL(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Nl{get title(){return this.data?.[ho]}constructor(e,n,r,i,s,o,a,l,u,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ki(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ki(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aC extends rC{constructor(e,n){super(n),this.url=e,Xh(this,n)}toString(){return lC(this._root)}}function Xh(t,e){e.value._routerState=t,e.children.forEach(n=>Xh(t,n))}function lC(t){const e=t.children.length>0?` { ${t.children.map(lC).join(", ")} } `:"";return`${t.value}${e}`}function Qh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dn(e.params,n.params)||t.params.next(n.params),function UO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jh(t,e){const n=dn(t.params,e.params)&&function HO(t,e){return Fr(t,e)&&t.every((n,r)=>dn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Jh(t.parent,e.parent))}function vo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function bL(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return vo(t,r,i);return vo(t,r)})}(t,e,n);return new Fn(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vo(t,a)),o}}const r=function ML(t){return new Bi(new Kt(t.url),new Kt(t.params),new Kt(t.queryParams),new Kt(t.fragment),new Kt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>vo(t,s));return new Fn(r,i)}}const ef="ngNavigationCancelingError";function uC(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=kr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cC(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function cC(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ef]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dC(t){return hC(t)&&kr(t.url)}function hC(t){return t&&t[ef]}class RL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Do,this.attachRef=null}}let Do=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new RL,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ol=!1;let fC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=Z(Do),this.location=Z(Gt),this.changeDetector=Z(rh),this.environmentInjector=Z(bn)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,Ol);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,Ol);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,Ol);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,Ol);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new AL(n,a,i.injector);if(r&&function xL(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Xe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wr]}),t})();class AL{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Bi?this.route:e===Do?this.childContexts:this.parent.get(e,n)}}let tf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hu({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ev],decls:1,vars:0,template:function(n,r){1&n&&Ba(0,"router-outlet")},dependencies:[fC],encapsulation:2}),t})();function gC(t,e){return t.providers&&!t._injector&&(t._injector=Ya(t.providers,e,`Route: ${t.path}`)),t._injector??e}function rf(t){const e=t.children&&t.children.map(rf),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=tf),n}function Nt(t){return t.outlet||V}function pC(t,e){const n=t.filter(r=>Nt(r)===e);return n.push(...t.filter(r=>Nt(r)!==e)),n}function Eo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class FL{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=$i(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ve(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=$i(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _L(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mL(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Qh(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Qh(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Eo(i.snapshot),l=a?.get(Bs)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class mC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ll{constructor(e,n){this.component=e,this.route=n}}function kL(t,e,n){const r=t._root;return Co(r,e?e._root:null,n,[r.value])}function Hi(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function CI(t){return null!==Yo(t)}(t)?e.get(t):t:r}function Co(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$i(e);return t.children.forEach(o=>{(function UL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function VL(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Fr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Fr(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jh(t,e)||!dn(t.queryParams,e.queryParams);default:return!Jh(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new mC(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Co(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ll(a.outlet.component,o))}else o&&wo(e,a,i),i.canActivateChecks.push(new mC(r)),Co(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ve(s,(o,a)=>wo(o,n.getContext(a),i)),i}function wo(t,e,n){const r=$i(t),i=t.value;Ve(r,(s,o)=>{wo(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Ll(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Io(t){return"function"==typeof t}function sf(t){return t instanceof Cl||"EmptyError"===t?.name}const Fl=Symbol("INITIAL_VALUE");function zi(){return cn(t=>AE(t.map(e=>e.pipe(co(1),function PO(...t){const e=ys(t);return Oe((n,r)=>{(e?kh(t,n,e):kh(t,n)).subscribe(r)})}(Fl)))).pipe(W(e=>{for(const n of e)if(!0!==n){if(n===Fl)return Fl;if(!1===n||n instanceof ir)return n}return!0}),er(e=>e!==Fl),co(1)))}function yC(t){return function Vw(...t){return Tg(t)}(qe(e=>{if(kr(e))throw uC(0,e)}),W(e=>!0===e))}const af={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _C(t,e,n,r,i){const s=lf(t,e,n);return s.matched?function rF(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?M(i.map(o=>{const a=Hi(o,t);return rr(function WL(t){return t&&Io(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(zi(),yC()):M(!0)}(r=gC(e,r),e,n).pipe(W(o=>!0===o?s:{...af})):M(s)}function lf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...af}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||jO)(n,t,e);if(!i)return{...af};const s={};Ve(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kl(t,e,n,r){if(n.length>0&&function oF(t,e,n){return n.some(r=>jl(t,e,r)&&Nt(r)!==V)}(t,n,r)){const s=new z(e,function sF(t,e,n,r){const i={};i[V]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Nt(s)!==V){const o=new z([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Nt(s)]=o}return i}(t,e,r,new z(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function aF(t,e,n){return n.some(r=>jl(t,e,r))}(t,n,r)){const s=new z(t.segments,function iF(t,e,n,r,i){const s={};for(const o of r)if(jl(t,n,o)&&!i[Nt(o)]){const a=new z([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Nt(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new z(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function jl(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function vC(t,e,n,r){return!!(Nt(t)===r||r!==V&&jl(e,n,t))&&("**"===t.path||lf(e,t,n).matched)}function DC(t,e,n){return 0===e.length&&!t.children[n]}const Ul=!1;class Vl{constructor(e){this.segmentGroup=e||null}}class EC{constructor(e){this.urlTree=e}}function To(t){return uo(new Vl(t))}function CC(t){return uo(new EC(t))}class dF{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=kl(this.urlTree.root,[],[],this.config).segmentGroup,n=new z(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,V).pipe(W(s=>this.createUrlTree(Al(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nr(s=>{if(s instanceof EC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Vl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,V).pipe(W(i=>this.createUrlTree(Al(i),e.queryParams,e.fragment))).pipe(nr(i=>{throw i instanceof Vl?this.noMatchError(i):i}))}noMatchError(e){return new C(4002,Ul)}createUrlTree(e,n,r){const i=Hh(e);return new ir(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(W(s=>new z([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Re(i).pipe(Lr(s=>{const o=r.children[s],a=pC(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(W(l=>({segment:l,outlet:s})))}),LE((s,o)=>(s[o.outlet]=o.segment,s),{}),FE())}expandSegment(e,n,r,i,s,o){return Re(r).pipe(Lr(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(nr(u=>{if(u instanceof Vl)return M(null);throw u}))),tr(a=>!!a),nr((a,l)=>{if(sf(a))return DC(n,i,s)?M(new z([],{})):To(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return vC(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):To(n):To(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?CC(s):this.lineralizeSegments(r,s).pipe(ke(o=>{const a=new z(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=lf(n,i,s);if(!a)return To(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?CC(d):this.lineralizeSegments(i,d).pipe(ke(h=>this.expandSegment(e,n,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=gC(r,e),r.loadChildren?(r._loadedRoutes?M({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(W(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new z(i,{})))):M(new z(i,{}))):_C(n,r,i,e).pipe(cn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(ke(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:g}=kl(n,a,l,h),p=new z(f.segments,f.children);if(0===g.length&&p.hasChildren())return this.expandChildren(d,h,p).pipe(W(y=>new z(a,y)));if(0===h.length&&0===g.length)return M(new z(a,{}));const m=Nt(r)===s;return this.expandSegment(d,p,h,g,m?V:s,!0).pipe(W(v=>new z(a.concat(v.segments),v.children)))})):To(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?M({routes:n._loadedRoutes,injector:n._loadedInjector}):function nF(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?M(!0):M(i.map(o=>{const a=Hi(o,t);return rr(function BL(t){return t&&Io(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(zi(),yC())}(e,n,r).pipe(ke(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function uF(t){return uo(cC(Ul,3))}())):M({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return M(r);if(i.numberOfChildren>1||!i.children[V])return e.redirectTo,uo(new C(4e3,Ul));i=i.children[V]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ir(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ve(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ve(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new z(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,Ul);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class fF{}class mF{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=kl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,V).pipe(W(n=>{if(null===n)return null;const r=new Nl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},V,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fn(r,n),s=new aC(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=oC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return Re(Object.keys(r.children)).pipe(Lr(i=>{const s=r.children[i],o=pC(n,i);return this.processSegmentGroup(e,o,s,i)}),LE((i,s)=>i&&s?(i.push(...s),i):null),function LO(t,e=!1){return Oe((n,r)=>{let i=0;n.subscribe(Le(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),wl(null),FE(),W(i=>{if(null===i)return null;const s=IC(i);return function yF(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return Re(n).pipe(Lr(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),tr(o=>!!o),nr(o=>{if(sf(o))return DC(r,i,s)?M([]):M(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!vC(n,r,i,s))return M(null);let o;if("**"===n.path){const a=i.length>0?UE(i).parameters:{},l=SC(r)+i.length;o=M({snapshot:new Nl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bC(n),Nt(n),n.component??n._loadedComponent??null,n,TC(r),l,MC(n)),consumedSegments:[],remainingSegments:[]})}else o=_C(r,n,i,e).pipe(W(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=SC(r)+l.length;return{snapshot:new Nl(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bC(n),Nt(n),n.component??n._loadedComponent??null,n,TC(r),d,MC(n)),consumedSegments:l,remainingSegments:u}}));return o.pipe(cn(a=>{if(null===a)return M(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function _F(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:g}=kl(r,u,c,h.filter(m=>void 0===m.redirectTo));if(0===g.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(W(m=>null===m?null:[new Fn(l,m)]));if(0===h.length&&0===g.length)return M([new Fn(l,[])]);const p=Nt(n)===s;return this.processSegment(d,h,f,g,p?V:s).pipe(W(m=>null===m?null:[new Fn(l,m)]))}))}}function vF(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function IC(t){const e=[],n=new Set;for(const r of t){if(!vF(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=IC(r.children);e.push(new Fn(r.value,i))}return e.filter(r=>!n.has(r))}function TC(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function SC(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function bC(t){return t.data||{}}function MC(t){return t.resolve||{}}function RC(t){return"string"==typeof t.title||null===t.title}function uf(t){return cn(e=>{const n=t(e);return n?Re(n).pipe(W(()=>e)):M(e)})}const Gi=new N("ROUTES");let cf=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(cD)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return M(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=rr(n.loadComponent()).pipe(W(xC),qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Vh(()=>{this.componentLoaders.delete(n)})),i=new NE(r,()=>new _n).pipe(jh());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return M({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(W(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=jE(l.get(Gi,[],A.Self|A.Optional)));return{routes:u.map(rf),injector:l}}),Vh(()=>{this.childrenLoaders.delete(r)})),o=new NE(s,()=>new _n).pipe(jh());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return rr(n()).pipe(W(xC),ke(r=>r instanceof vv||Array.isArray(r)?M(r):Re(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xC(t){return function bF(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Bl=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _n,this.configLoader=Z(cf),this.environmentInjector=Z(bn),this.urlSerializer=Z(go),this.rootContexts=Z(Do),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new gL(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new fL(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Kt({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_o,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(er(r=>0!==r.id),W(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),cn(r=>{let i=!1,s=!1;return M(r).pipe(qe(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),cn(o=>{const a=n.browserUrlTree.toString(),l=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new Pl(o.id,n.serializeUrl(r.rawUrl),c,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Jt}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return PC(o.source)&&(n.browserUrlTree=o.extractedUrl),M(o).pipe(cn(c=>{const d=this.transitions?.getValue();return this.events.next(new Zh(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Jt:Promise.resolve(c)}),function hF(t,e,n,r){return cn(i=>function cF(t,e,n,r,i){return new dF(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(W(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),qe(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function EF(t,e,n,r,i){return ke(s=>function pF(t,e,n,r,i,s,o="emptyOnly"){return new mF(t,e,n,r,i,o,s).recognize().pipe(cn(a=>null===a?function gF(t){return new Me(e=>e.error(t))}(new fF):M(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(W(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),qe(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(h,c)}n.browserUrlTree=c.urlAfterRedirects}const d=new lL(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:g}=o,p=new Zh(c,this.urlSerializer.serialize(d),h,f);this.events.next(p);const m=sC(d,this.rootComponentType).snapshot;return M(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new Pl(o.id,n.serializeUrl(r.extractedUrl),c,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Jt}}),qe(o=>{const a=new uL(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),W(o=>r={...o,guards:kL(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function qL(t,e){return ke(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?M({...n,guardsResult:!0}):function KL(t,e,n,r){return Re(t).pipe(ke(i=>function tF(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?M(s.map(a=>{const l=Eo(e)??i,u=Hi(a,l);return rr(function GL(t){return t&&Io(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(tr())})).pipe(zi()):M(!0)}(i.component,i.route,n,e,r)),tr(i=>!0!==i,!0))}(o,r,i,t).pipe(ke(a=>a&&function $L(t){return"boolean"==typeof t}(a)?function YL(t,e,n,r){return Re(e).pipe(Lr(i=>kh(function QL(t,e){return null!==t&&e&&e(new pL(t)),M(!0)}(i.route.parent,r),function XL(t,e){return null!==t&&e&&e(new yL(t)),M(!0)}(i.route,r),function eF(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function jL(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>PE(()=>M(o.guards.map(l=>{const u=Eo(o.node)??n,c=Hi(l,u);return rr(function zL(t){return t&&Io(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(tr())})).pipe(zi())));return M(s).pipe(zi())}(t,i.path,n),function JL(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return M(!0);const i=r.map(s=>PE(()=>{const o=Eo(e)??n,a=Hi(s,o);return rr(function HL(t){return t&&Io(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(tr())}));return M(i).pipe(zi())}(t,i.route,n))),tr(i=>!0!==i,!0))}(r,s,t,e):M(a)),W(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),qe(o=>{if(r.guardsResult=o.guardsResult,kr(o.guardsResult))throw uC(0,o.guardsResult);const a=new cL(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),er(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),uf(o=>{if(o.guards.canActivateChecks.length)return M(o).pipe(qe(a=>{const l=new dL(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),cn(a=>{let l=!1;return M(a).pipe(function CF(t,e){return ke(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let s=0;return Re(i).pipe(Lr(o=>function wF(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!RC(i)&&(s[ho]=i.title),function IF(t,e,n,r){const i=function TF(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return M({});const s={};return Re(i).pipe(ke(o=>function SF(t,e,n,r){const i=Eo(e)??r,s=Hi(t,i);return rr(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(tr(),qe(a=>{s[o]=a}))),Uh(1),function FO(t){return W(()=>t)}(s),nr(o=>sf(o)?Jt:uo(o)))}(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=oC(t,n).resolve,i&&RC(i)&&(t.data[ho]=i.title),null)))}(o.route,r,t,e)),qe(()=>s++),Uh(1),ke(o=>s===i.length?M(n):Jt))})}(n.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),qe(a=>{const l=new hL(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),uf(o=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(qe(c=>{l.component=c}),W(()=>{})));for(const c of l.children)u.push(...a(c));return u};return AE(a(o.targetSnapshot.root)).pipe(wl(),co(1))}),uf(()=>this.afterPreactivation()),W(o=>{const a=function SL(t,e,n){const r=vo(t,e._root,n?n._root:void 0);return new iC(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),qe(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>W(r=>(new FL(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),qe({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new jr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vh(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),nr(o=>{if(s=!0,hC(o)){dC(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new xl(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),dC(o)){const l=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||PC(r.source)};n.scheduleNavigation(l,_o,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new qh(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(l){r.reject(l)}}return Jt}))}))}cancelNavigationTransition(n,r,i){const s=new xl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function PC(t){return t!==_o}let NC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[ho]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:function(){return Z(MF)},providedIn:"root"}),t})(),MF=(()=>{class t extends NC{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(x(bE))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:function(){return Z(xF)},providedIn:"root"}),t})();class AF{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let xF=(()=>{class t extends AF{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Vp(t){return Dn(()=>{const e=t.prototype.constructor,n=e[Cn]||uc(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Cn]||uc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hl=new N("",{providedIn:"root",factory:()=>({})});let NF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:function(){return Z(OF)},providedIn:"root"}),t})(),OF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LF(t){throw t}function FF(t,e,n){return e.parse("/")}const kF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ct=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Z(s1),this.isNgZoneEnabled=!1,this.options=Z(Hl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||LF,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||FF,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Z(NF),this.routeReuseStrategy=Z(RF),this.urlCreationStrategy=Z(wL),this.titleStrategy=Z(NC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=jE(Z(Gi,{optional:!0})??[]),this.navigationTransitions=Z(Bl),this.urlSerializer=Z(go),this.location=Z(hh),this.isNgZoneEnabled=Z(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),_o,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=kr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,_o,null,r)}navigate(n,r={skipLocationChange:!1}){return function UF(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new C(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...kF}:!1===r?{...jF}:r,kr(n))return $E(this.currentUrlTree,n,i);const s=this.parseUrl(n);return $E(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u,c;return o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,l=h}),c="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class OC{}let BF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(er(n=>n instanceof jr),Lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ya(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Re(i).pipe(Kr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):M(null);const s=i.pipe(ke(o=>null===o?M(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Re([s,this.loader.loadComponent(r)]).pipe(Kr()):s})}}return t.\u0275fac=function(n){return new(n||t)(x(Ct),x(cD),x(bn),x(OC),x(cf))},t.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ff=new N("");let LC=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof jr&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof nC&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nC(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function my(){throw new Error("invalid")}()},t.\u0275prov=F({token:t,factory:t.\u0275fac}),t})();var wt=(()=>((wt=wt||{})[wt.COMPLETE=0]="COMPLETE",wt[wt.FAILED=1]="FAILED",wt[wt.REDIRECTING=2]="REDIRECTING",wt))();const Wi=!1;function sr(t,e){return{\u0275kind:t,\u0275providers:e}}const gf=new N("",{providedIn:"root",factory:()=>!1});function kC(){const t=Z(Rn);return e=>{const n=t.get(rl);if(e!==n.components[0])return;const r=t.get(Ct),i=t.get(jC);1===t.get(pf)&&r.initialNavigation(),t.get(UC,null,A.Optional)?.setUpPreloading(),t.get(ff,null,A.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const jC=new N(Wi?"bootstrap done indicator":"",{factory:()=>new _n}),pf=new N(Wi?"initial navigation":"",{providedIn:"root",factory:()=>1});function ZF(){let t=[];return t=Wi?[{provide:Ma,multi:!0,useFactory:()=>{const e=Z(Ct);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function vL(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],sr(1,t)}const UC=new N(Wi?"router preloader":"");function qF(t){return sr(0,[{provide:UC,useExisting:BF},{provide:OC,useExisting:t}])}const So=!1,VC=new N(So?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),KF=[hh,{provide:go,useClass:$h},Ct,Do,{provide:Bi,useFactory:function FC(t){return t.routerState.root},deps:[Ct]},cf,So?{provide:gf,useValue:!0}:[]];function YF(){return new _D("Router",Ct)}let $C=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[KF,So&&r?.enableTracing?ZF().\u0275providers:[],{provide:Gi,multi:!0,useValue:n},{provide:VC,useFactory:ek,deps:[[Ct,new Ps,new Ns]]},{provide:Hl,useValue:r||{}},r?.useHash?{provide:Or,useClass:W1}:{provide:Or,useClass:$D},{provide:ff,useFactory:()=>{const t=Z(gN),e=Z(De),n=Z(Hl),r=Z(Bl),i=Z(go);return n.scrollOffset&&t.setOffset(n.scrollOffset),new LC(i,r,t,e,n)}},r?.preloadingStrategy?qF(r.preloadingStrategy).\u0275providers:[],{provide:_D,multi:!0,useFactory:YF},r?.initialNavigation?tk(r):[],[{provide:BC,useFactory:kC},{provide:yD,multi:!0,useExisting:BC}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Gi,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(x(VC,8))},t.\u0275mod=Dr({type:t}),t.\u0275inj=Zn({imports:[tf]}),t})();function ek(t){if(So&&t)throw new C(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function tk(t){return["disabled"===t.initialNavigation?sr(3,[{provide:el,multi:!0,useFactory:()=>{const e=Z(Ct);return()=>{e.setUpLocationChangeListener()}}},{provide:pf,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?sr(2,[{provide:pf,useValue:0},{provide:el,multi:!0,deps:[Rn],useFactory:e=>{const n=e.get(z1,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Ct),s=e.get(jC);(function HF(t,e){t.events.pipe(er(n=>n instanceof jr||n instanceof xl||n instanceof qh||n instanceof Pl),W(n=>n instanceof jr||n instanceof Pl?wt.COMPLETE:n instanceof xl&&(0===n.code||1===n.code)?wt.REDIRECTING:wt.FAILED),er(n=>n!==wt.REDIRECTING),co(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Bl).afterPreactivation=()=>(r(!0),s.closed?M(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const BC=new N(So?"Router Initializer":""),rk=[];let ik=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Dr({type:t}),t.\u0275inj=Zn({imports:[$C.forRoot(rk),$C]}),t})();const or=class sk{constructor(e){this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},mf=class ok{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function zl(t,e){return t>e?1:t<e?-1:0}function yf(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function Gl(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wl(){return!0}function Zl(){return!1}function ql(){}function Mo(t){for(const e in t)delete t[e]}const _f=class dk extends mf{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n="string"==typeof e,r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new or(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;r in o||(o[r]=0,a[r]=0),++o[r];for(let u=0,c=i.length;u<c;++u)if(l="handleEvent"in i[u]?i[u].handleEvent(s):i[u].call(this,s),!1===l||s.propagationStopped){l=!1;break}if(0==--o[r]){let u=a[r];for(delete a[r];u--;)this.removeEventListener(r,ql);delete o[r]}return l}disposeInternal(){this.listeners_&&Mo(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=ql,++this.pendingRemovals_[e]):(r.splice(i,1),0===r.length&&delete this.listeners_[e]))}}},q={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function te(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Kl(t,e,n,r){return te(t,e,n,r,!0)}function we(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Mo(t))}const HC=class Yl extends _f{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(q.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=te(this,e[s],n);return i}return te(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=Kl(this,e[s],n)}else r=Kl(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)!function hk(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)we(t[e]);else we(t)}(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}};function me(){throw new Error("Unimplemented abstract method.")}let fk=0;function ht(t){return t.ol_uid||(t.ol_uid=String(++fk))}class zC extends or{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}const kn=class gk extends HC{constructor(e){super(),ht(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new zC(r,e,n)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new zC(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],function ck(t){let e;for(e in t)return!1;return!e}(this.values_)&&(this.values_=null),n||this.notify(e,r)}}},pk={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class mk extends Error{constructor(e){const n=pk[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}const GC=mk;class Xl extends or{constructor(e,n,r){super(e),this.element=n,this.index=r}}const jn=class yk extends kn{constructor(e,n){if(super(),this.unique_=!!(n=n||{}).unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Xl("add",n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Xl("remove",n,e)),n}setAt(e,n){if(e>=this.getLength())return void this.insertAt(e,n);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Xl("remove",i,e)),this.dispatchEvent(new Xl("add",n,e))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new GC(58)}},ar=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_k=ar.includes("firefox"),vk=(ar.includes("safari")&&!ar.includes("chrom")&&(ar.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ar)),ar.includes("webkit")&&!ar.includes("edge")),Dk=ar.includes("macintosh"),ZC=typeof devicePixelRatio<"u"?devicePixelRatio:1,vf=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Ek=typeof Image<"u"&&Image.prototype.decode,qC=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function re(t,e){if(!t)throw new GC(e)}function Lt(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Zi(t,e,n,r,i,s,o,a){const l=Math.sin(s),u=Math.cos(s);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=o*r*u-a*r*l+e,t[5]=o*i*l+a*i*u+n,t}function Cf(t,e){const n=function Ck(t){return t[0]*t[3]-t[1]*t[2]}(e);re(0!==n,32);const r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*l-o*a)/n,t[5]=-(r*l-i*a)/n,t}let KC;new Array(6);const $e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function XC(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,r=t.length;n<r;++n)Ao(e,t[n]);return e}function QC(t,e,n){let r,i;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+i*i}function wf(t,e){return JC(t,e[0],e[1])}function JC(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function e0(t,e){const o=e[0],a=e[1];let l=$e.UNKNOWN;return o<t[0]?l|=$e.LEFT:o>t[2]&&(l|=$e.RIGHT),a<t[1]?l|=$e.BELOW:a>t[3]&&(l|=$e.ABOVE),l===$e.UNKNOWN&&(l=$e.INTERSECTING),l}function $r(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function qi(t){return $r(1/0,1/0,-1/0,-1/0,t)}function If(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ao(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function n0(t,e,n,r,i){for(;n<r;n+=i)Ak(t,e[n],e[n+1]);return t}function Ak(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function r0(t,e){let n;return n=e(Jl(t)),!!(n||(n=e(eu(t)),n)||(n=e(tu(t)),n)||(n=e(Br(t)),n))&&n}function Ql(t){let e=0;return bf(t)||(e=ye(t)*Yt(t)),e}function Jl(t){return[t[0],t[1]]}function eu(t){return[t[2],t[1]]}function Ki(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function xk(t,e){let n;return"bottom-left"===e?n=Jl(t):"bottom-right"===e?n=eu(t):"top-left"===e?n=Br(t):"top-right"===e?n=tu(t):re(!1,13),n}function Tf(t,e,n,r,i){const[s,o,a,l,u,c,d,h]=Sf(t,e,n,r);return $r(Math.min(s,a,u,d),Math.min(o,l,c,h),Math.max(s,a,u,d),Math.max(o,l,c,h),i)}function Sf(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),a=Math.sin(n),l=i*o,u=i*a,c=s*o,d=s*a,h=t[0],f=t[1];return[h-l+d,f-u-c,h-l-d,f-u+c,h+l-d,f+u+c,h+l+d,f+u-c,h-l+d,f-u-c]}function Yt(t){return t[3]-t[1]}function Yi(t,e,n){const r=n||[1/0,1/0,-1/0,-1/0];return xo(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):qi(r),r}function Br(t){return[t[0],t[3]]}function tu(t){return[t[2],t[3]]}function ye(t){return t[2]-t[0]}function xo(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function bf(t){return t[2]<t[0]||t[3]<t[1]}function Fe(t,e,n){return Math.min(Math.max(t,e),n)}function Fk(t,e,n,r,i,s){const o=i-n,a=s-r;if(0!==o||0!==a){const l=((t-n)*o+(e-r)*a)/(o*o+a*a);l>1?(n=i,r=s):l>0&&(n+=o*l,r+=a*l)}return Xi(t,e,n,r)}function Xi(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function nu(t){return t*Math.PI/180}function Qi(t,e){const n=t%e;return n*e<0?n+e:n}function jk(t,e,n){return t+n*(e-t)}function Mf(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function ru(t,e){return Math.floor(Mf(t,e))}function iu(t,e){return Math.ceil(Mf(t,e))}const s0=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o0=/^([a-z]*)$|^hsla?\(.*\)$/i;const Vk=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let s=0;for(const o in e)3&s++||(delete e[o],--n)}i=function $k(t){let e,n,r,i,s;if(o0.exec(t)&&(t=function a0(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),s0.exec(t)){const o=t.length-1;let a;a=o<=4?1:2;const l=4===o||8===o;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),s=[e,n,r,i/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),u0(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),u0(s)):re(!1,14);return s}(r),e[r]=i,++n}return i}}();function l0(t){return Array.isArray(t)?t:Vk(t)}function u0(t){return t[0]=Fe(t[0]+.5|0,0,255),t[1]=Fe(t[1]+.5|0,0,255),t[2]=Fe(t[2]+.5|0,0,255),t[3]=Fe(t[3],0,1),t}function c0(t,e,n){return e+":"+t+":"+(n?function Uk(t){return"string"==typeof t?t:function Bk(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}(t)}(n):"null")}const d0=new class Hk{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_)!(3&e++)&&!this.cache_[n].hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}get(e,n,r){const i=c0(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=c0(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}},h0=class zk extends kn{constructor(e){super(),this.background_=e.background;const n=Object.assign({},e);"object"==typeof e.properties&&(delete n.properties,Object.assign(n,e.properties)),n.opacity=void 0!==e.opacity?e.opacity:1,re("number"==typeof n.opacity,64),n.visible=void 0===e.visible||e.visible,n.zIndex=e.zIndex,n.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,n.minResolution=void 0!==e.minResolution?e.minResolution:0,n.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,n.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return n.opacity=Fe(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==r||n.managed?r:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return me()}getLayerStatesArray(e){return me()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return me()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set("extent",e)}setMaxResolution(e){this.set("maxResolution",e)}setMinResolution(e){this.set("minResolution",e)}setMaxZoom(e){this.set("maxZoom",e)}setMinZoom(e){this.set("minZoom",e)}setOpacity(e){re("number"==typeof e,64),this.set("opacity",e)}setVisible(e){this.set("visible",e)}setZIndex(e){this.set("zIndex",e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Xt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Gk=42,Rf=256,Po={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},f0=class Zk{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Po[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},No=6378137,Ji=Math.PI*No,qk=[-Ji,-Ji,Ji,Ji],Kk=[-180,-85,180,85],su=No*Math.log(Math.tan(Math.PI/2));class es extends f0{constructor(e){super({code:e,units:"m",extent:qk,global:!0,worldExtent:Kk,getPointResolution:function(n,r){return n/Math.cosh(r[1]/No)}})}}const g0=[new es("EPSG:3857"),new es("EPSG:102100"),new es("EPSG:102113"),new es("EPSG:900913"),new es("http://www.opengis.net/def/crs/EPSG/0/3857"),new es("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Yk(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n){e[i]=Ji*t[i]/180;let s=No*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>su?s=su:s<-su&&(s=-su),e[i+1]=s}return e}function Xk(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Ji,e[i+1]=360*Math.atan(Math.exp(t[i+1]/No))/Math.PI-90;return e}const p0=[-180,-90,180,90],Jk=6378137*Math.PI/180;class Hr extends f0{constructor(e,n){super({code:e,units:"degrees",extent:p0,axisOrientation:n,global:!0,metersPerUnit:Jk,worldExtent:p0})}}const m0=[new Hr("CRS:84"),new Hr("EPSG:4326","neu"),new Hr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Hr("urn:ogc:def:crs:OGC:2:84"),new Hr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Hr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Hr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ou={},Qt={};function au(t,e,n){const r=t.getCode(),i=e.getCode();r in Qt||(Qt[r]={}),Qt[r][i]=n}function lu(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Af(t,e){const n=Math.cos(e),r=Math.sin(e),s=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=s,t}const uu=6371008.8;function xf(t,e,n){n=n||uu;const r=nu(t[1]),i=nu(e[1]),s=(i-r)/2,o=nu(e[0]-t[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const Oo={info:1,warn:2,error:3,none:4};let du=Oo.info;function v0(...t){du>Oo.warn||console.warn(...t)}let Nf=!0;function Of(t,e){if(void 0!==e)for(let n=0,r=t.length;n<r;++n)e[n]=t[n];else e=t.slice();return e}function E0(t,e){if(void 0!==e&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function h2(t){(function t2(t,e){ou[t]=e})(t.getCode(),t),au(t,t,Of)}function Ke(t){return"string"==typeof t?function e2(t){return ou[t]||ou[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function C0(t,e,n,r){let i;const s=(t=Ke(t)).getPointResolutionFunc();if(s){if(i=s(e,n),r&&r!==t.getUnits()){const o=t.getMetersPerUnit();o&&(i=i*o/Po[r])}}else{const o=t.getUnits();if("degrees"==o&&!r||"degrees"==r)i=e;else{const a=hu(t,Ke("EPSG:4326"));if(a===E0&&"degrees"!==o)i=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=a(u,u,2),i=(xf(u.slice(0,2),u.slice(2,4))+xf(u.slice(4,6),u.slice(6,8)))/2}const l=r?Po[r]:t.getMetersPerUnit();void 0!==l&&(i/=l)}}return i}function w0(t){(function f2(t){t.forEach(h2)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&au(e,n,Of)})})}function Lf(t,e){return t?"string"==typeof t?Ke(t):t:Ke(e)}function ts(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||hu(t,e)===Of)&&n}function hu(t,e){let i=function n2(t,e){let n;return t in Qt&&e in Qt[t]&&(n=Qt[t][e]),n}(t.getCode(),e.getCode());return i||(i=E0),i}function Lo(t,e){return hu(Ke(t),Ke(e))}function Fo(t,e,n){return Lo(e,n)(t,void 0,t.length)}function T0(t,e,n,r){return function Ok(t,e,n,r){let i=[];if(r>1){const a=t[2]-t[0],l=t[3]-t[1];for(let u=0;u<r;++u)i.push(t[0]+a*u/r,t[1],t[2],t[1]+l*u/r,t[2]-a*u/r,t[3],t[0],t[3]-l*u/r)}else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);const s=[],o=[];for(let a=0,l=i.length;a<l;a+=2)s.push(i[a]),o.push(i[a+1]);return function wk(t,e,n){return $r(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(s,o,n)}(t,Lo(e,n),void 0,r)}let it=null;function Ff(t,e){return it?Fo(t,e,it):t}function Un(t,e){return it?Fo(t,it,e):(Nf&&!lu(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Nf=!1,v0("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function ns(t,e){return it?T0(t,it,e):t}function S0(t,e,n){return function(r,i,s,o,a){if(!r)return;if(!i&&!e)return r;const l=e?0:s[0]*i,u=e?0:s[1]*i,c=a?a[0]:0,d=a?a[1]:0;let h=t[0]+l/2+c,f=t[2]-l/2+c,g=t[1]+u/2+d,p=t[3]-u/2+d;h>f&&(h=(f+h)/2,f=h),g>p&&(g=(p+g)/2,p=g);let m=Fe(r[0],h,f),_=Fe(r[1],g,p);if(o&&n&&i){const v=30*i;m+=-v*Math.log(1+Math.max(0,h-r[0])/v)+v*Math.log(1+Math.max(0,r[0]-f)/v),_+=-v*Math.log(1+Math.max(0,g-r[1])/v)+v*Math.log(1+Math.max(0,r[1]-p)/v)}return[m,_]}}function v2(t){return t}function kf(t,e,n,r){const i=ye(e)/n[0],s=Yt(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function jf(t,e,n){let r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Fe(r,n/2,2*e)}function b0(t,e,n,r,i){return n=void 0===n||n,function(s,o,a,l){if(void 0!==s){const u=r?kf(t,r,a,i):t;return n&&l?jf(s,u,e):Fe(s,e,u)}}}function Uf(t){if(void 0!==t)return 0}function M0(t){if(void 0!==t)return t}function R0(t){return Math.pow(t,3)}function rs(t){return 1-R0(1-t)}function Vf(t){return 3*t*t-2*t*t*t}function I2(t){return t}!function _2(){w0(g0),w0(m0),function g2(t,e,n,r){t.forEach(function(i){e.forEach(function(s){au(i,s,n),au(s,i,r)})})}(m0,g0,Yk,Xk)}();const A0=[1,0,0,1,0,0],A2=class R2 extends kn{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function uk(t){let n,r,i,e=!1;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!Gl(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return me()}closestPointXY(e,n,r,i){return me()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return this.closestPointXY(e[0],e[1],n=n||[NaN,NaN],1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return me()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&qi(n),this.extentRevision_=this.getRevision()}return function Pk(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,e)}rotate(e,n){me()}scale(e,n,r){me()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return me()}getType(){return me()}applyTransform(e){me()}intersectsExtent(e){return me()}translate(e,n){me()}transform(e,n){const r=Ke(e),i="tile-pixels"==r.getUnits()?function(s,o,a){const l=r.getExtent(),u=r.getWorldExtent(),c=Yt(u)/Yt(l);return Zi(A0,u[0],u[3],c,-c,0,0,0),function T2(t,e,n,r,i,s){s=s||[];let o=0;for(let a=e;a<n;a+=r){const l=t[a],u=t[a+1];s[o++]=i[0]*l+i[2]*u+i[4],s[o++]=i[1]*l+i[3]*u+i[5]}s&&s.length!=o&&(s.length=o)}(s,0,s.length,a,A0,o),Lo(r,n)(s,o,a)}:Lo(r,n);return this.applyTransform(i),this}};function x0(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const $f=class x2 extends A2{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return function bk(t,e,n,r,i){return n0(qi(i),t,e,n,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return me()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=x0(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){me()}setLayout(e,n,r){let i;if(e)i=x0(e);else{for(let s=0;s<r;++s){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}i=n.length,e=function P2(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function S2(t,e,n,r,i,s,o){o=o||[];const a=Math.cos(i),l=Math.sin(i),u=s[0],c=s[1];let d=0;for(let h=e;h<n;h+=r){const f=t[h]-u,g=t[h+1]-c;o[d++]=u+f*a-g*l,o[d++]=c+f*l+g*a;for(let p=h+2;p<h+r;++p)o[d++]=t[p]}o&&o.length!=d&&(o.length=d)})(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){void 0===n&&(n=e),r||(r=Ki(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();(function b2(t,e,n,r,i,s,o,a){a=a||[];const l=o[0],u=o[1];let c=0;for(let d=e;d<n;d+=r){const f=t[d+1]-u;a[c++]=l+i*(t[d]-l),a[c++]=u+s*f;for(let g=d+2;g<d+r;++g)a[c++]=t[g]}a&&a.length!=c&&(a.length=c)})(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function M2(t,e,n,r,i,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=r){o[a++]=t[l]+i,o[a++]=t[l+1]+s;for(let u=l+2;u<l+r;++u)o[a++]=t[u]}o&&o.length!=a&&(o.length=a)})(r,0,r.length,i,e,n,r),this.changed()}}};function P0(t,e,n,r,i,s,o){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let d;if(0===u&&0===c)d=e;else{const h=((i-a)*u+(s-l)*c)/(u*u+c*c);if(h>1)d=n;else{if(h>0){for(let f=0;f<r;++f)o[f]=jk(t[e+f],t[n+f],h);return void(o.length=r)}d=e}}for(let h=0;h<r;++h)o[h]=t[d+h];o.length=r}function N0(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const a=t[e],l=t[e+1],u=Xi(s,o,a,l);u>i&&(i=u),s=a,o=l}return i}function L0(t,e,n,r,i,s,o,a,l,u,c){if(e==n)return u;let d,h;if(0===i){if(h=Xi(o,a,t[e],t[e+1]),h<u){for(d=0;d<r;++d)l[d]=t[e+d];return l.length=r,h}return u}c=c||[NaN,NaN];let f=e+r;for(;f<n;)if(P0(t,f-r,f,r,o,a,c),h=Xi(o,a,c[0],c[1]),h<u){for(u=h,d=0;d<r;++d)l[d]=c[d];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(h)-Math.sqrt(u))/i|0,1);if(s&&(P0(t,n-r,e,r,o,a,c),h=Xi(o,a,c[0],c[1]),h<u)){for(u=h,d=0;d<r;++d)l[d]=c[d];l.length=r}return u}function k0(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let a=0;a<r;++a)t[e++]=o[a]}return e}function is(t,e){return e*Math.round(t/e)}function F2(t,e,n,r,i,s,o){if(e==n)return o;let u,c,a=is(t[e],i),l=is(t[e+1],i);e+=r,s[o++]=a,s[o++]=l;do{if(u=is(t[e],i),c=is(t[e+1],i),(e+=r)==n)return s[o++]=u,s[o++]=c,o}while(u==a&&c==l);for(;e<n;){const d=is(t[e],i),h=is(t[e+1],i);if(e+=r,d==u&&h==c)continue;const f=u-a,g=c-l,p=d-a,m=h-l;f*m==g*p&&(f<0&&p<f||f==p||f>0&&p>f)&&(g<0&&m<g||g==m||g>0&&m>g)?(u=d,c=h):(s[o++]=u,s[o++]=c,a=u,l=c,u=d,c=h)}return s[o++]=u,s[o++]=c,o}function V0(t,e,n,r,i){i=void 0!==i?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function B0(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=o*a-s*l,s=a,o=l}return i/2}class fu extends $f{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}clone(){return new fu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<QC(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(N0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),L0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return B0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return V0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=function Bf(t,e,n,r,i,s,o){const a=(n-e)/r;if(a<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-r];let c=0;for(;u.length>0;){const d=u.pop(),h=u.pop();let f=0;const g=t[h],p=t[h+1],m=t[d],_=t[d+1];for(let v=h+r;v<d;v+=r){const I=Fk(t[v],t[v+1],g,p,m,_);I>f&&(c=v,f=I)}f>i&&(l[(c-e)/r]=1,h+r<c&&u.push(h,c),c+r<d&&u.push(c,d))}for(let d=0;d<a;++d)l[d]&&(s[o++]=t[e+d*r],s[o++]=t[e+d*r+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new fu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=k0(this.flatCoordinates,0,e,this.stride),this.changed()}}const z0=fu;class Hf extends $f{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Hf(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=Xi(e,n,s[0],s[1]);if(o<i){const a=this.stride;for(let l=0;l<a;++l)r[l]=s[l];return r.length=a,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return function Sk(t,e){const n=t[0],r=t[1];return $r(n,r,n,r,e)}(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return JC(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function N2(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,e),this.changed()}}const k2=Hf;function j2(t,e,n,r,i){return!r0(i,function(o){return!zr(t,e,n,r,o[0],o[1])})}function zr(t,e,n,r,i,s){let o=0,a=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const u=t[e],c=t[e+1];l<=s?c>s&&(u-a)*(s-l)-(i-a)*(c-l)>0&&o++:c<=s&&(u-a)*(s-l)-(i-a)*(c-l)<0&&o--,a=u,l=c}return 0!==o}function zf(t,e,n,r,i,s){if(0===n.length||!zr(t,e,n[0],r,i,s))return!1;for(let o=1,a=n.length;o<a;++o)if(zr(t,n[o-1],n[o],r,i,s))return!1;return!0}function Gf(t,e,n,r,i){const s=n0([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!xo(i,s)&&(!!(function Tk(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3])||function U2(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}(t,e,n,r,function(o,a){return function Nk(t,e,n){let r=!1;const i=e0(t,e),s=e0(t,n);if(i===$e.INTERSECTING||s===$e.INTERSECTING)r=!0;else{const o=t[0],a=t[1],l=t[2],u=t[3],h=n[0],f=n[1],g=(f-e[1])/(h-e[0]);let p,m;s&$e.ABOVE&&!(i&$e.ABOVE)&&(p=h-(f-u)/g,r=p>=o&&p<=l),!r&&s&$e.RIGHT&&!(i&$e.RIGHT)&&(m=f-(h-l)*g,r=m>=a&&m<=u),!r&&s&$e.BELOW&&!(i&$e.BELOW)&&(p=h-(f-a)/g,r=p>=o&&p<=l),!r&&s&$e.LEFT&&!(i&$e.LEFT)&&(m=f-(h-o)*g,r=m>=a&&m<=u)}return r}(i,o,a)}))}function W0(t,e,n,r,i){return!!(Gf(t,e,n,r,i)||zr(t,e,n,r,i[0],i[1])||zr(t,e,n,r,i[0],i[3])||zr(t,e,n,r,i[2],i[1])||zr(t,e,n,r,i[2],i[3]))}function V2(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function Wf(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=(a-s)*(l+o),s=a,o=l}return 0===i?void 0:i>0}function Zf(t,e,n,r,i){i=void 0!==i&&i;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=Wf(t,e,a,r);(0===s?i&&l||!i&&!l:i&&!l||!i&&l)&&V2(t,e,a,r),e=a}return e}class Gr extends $f{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?function ak(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Gr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<QC(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function O0(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const a=n[s];i=N0(t,e,a,r,i),e=a}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function F0(t,e,n,r,i,s,o,a,l,u,c){c=c||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];u=L0(t,e,f,r,i,s,o,a,l,u,c),e=f}return u}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return zf(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return function H0(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];i+=B0(t,e,a,r),e=a}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return void 0!==e?(n=this.getOrientedFlatCoordinates().slice(),Zf(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,function $0(t,e,n,r,i){i=void 0!==i?i:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];i[s++]=V0(t,e,l,r,i[s]),e=l}return i.length=s,i}(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Ki(this.getExtent());this.flatInteriorPoint_=function G0(t,e,n,r,i,s,o){let a,l,u,c,d,h,f;const g=i[s+1],p=[];for(let v=0,y=n.length;v<y;++v){const D=n[v];for(c=t[D-r],h=t[D-r+1],a=e;a<D;a+=r)d=t[a],f=t[a+1],(g<=h&&f<=g||h<=g&&g<=f)&&(u=(g-h)/(f-h)*(d-c)+c,p.push(u)),c=d,h=f}let m=NaN,_=-1/0;for(p.sort(zl),c=p[0],a=1,l=p.length;a<l;++a){d=p[a];const v=Math.abs(d-c);v>_&&(u=(c+d)/2,zf(t,e,n,r,u,g)&&(m=u,_=v)),c=d}return isNaN(m)&&(m=i[s]),o?(o.push(m,g,_),o):[m,g,_]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new k2(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new z0(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,a=r.length;o<a;++o){const l=r[o],u=new z0(n.slice(s,l),e);i.push(u),s=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function q0(t,e,n,r,i){i=void 0!==i&&i;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=Wf(t,e,a,r);if(0===s){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=a}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Zf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=function U0(t,e,n,r,i,s,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];o=F2(t,e,c,r,i,s,o),a.push(o),e=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new Gr(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return function Z0(t,e,n,r,i){if(!W0(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(let s=1,o=n.length;s<o;++s)if(j2(t,n[s-1],n[s],r,i)&&!Gf(t,n[s-1],n[s],r,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=function j0(t,e,n,r,i){i=i||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=k0(t,e,n[o],r);i[s++]=l,e=l}return i.length=s,i}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const $2=Gr;function K0(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new Gr(s,"XY",[s.length])}function gu(t,e){setTimeout(function(){t(e)},0)}function Kf(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;return a+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,o=-o,[a*s-l*o,l*s+a*o]}const fn=class H2 extends kn{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=Lf(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&function D0(t){Nf=!(void 0===t||t)}(),e.center&&(e.center=Un(e.center,this.projection_)),e.extent&&(e.extent=ns(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in Xt)delete n[a];this.setProperties(n,!0);const r=function G2(t){let e,n,r,o=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,u=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,h=Lf(t.projection,"EPSG:3857"),f=h.getExtent();let g=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&h.isGlobal()&&(g=!1,p=f),void 0!==t.resolutions){const m=t.resolutions;n=m[o],r=void 0!==m[a]?m[a]:m[m.length-1],e=t.constrainResolution?function D2(t,e,n,r){return e=void 0===e||e,function(i,s,o,a){if(void 0!==i){const l=t[0],u=t[t.length-1],c=n?kf(l,n,o,r):l;if(a)return e?jf(i,c,u):Fe(i,u,c);const d=Math.min(c,i),h=Math.floor(yf(t,d,s));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(m,c,!g&&p,d):b0(n,r,c,!g&&p,d)}else{const _=(f?Math.max(ye(f),Yt(f)):360*Po.degrees/h.getMetersPerUnit())/Rf/Math.pow(2,0),v=_/Math.pow(2,28);n=t.maxResolution,void 0!==n?o=0:n=_/Math.pow(l,o),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):_/Math.pow(l,a):v),a=o+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-o),e=t.constrainResolution?function E2(t,e,n,r,i,s){return r=void 0===r||r,n=void 0!==n?n:0,function(o,a,l,u){if(void 0!==o){const c=i?kf(e,i,l,s):e;if(u)return r?jf(o,c,n):Fe(o,n,c);const d=1e-9,h=Math.ceil(Math.log(e/c)/Math.log(t)-d),f=-a*(.5-d)+.5,g=Math.min(c,o),p=Math.floor(Math.log(e/g)/Math.log(t)+f),m=Math.max(h,p);return Fe(e/Math.pow(t,m),n,c)}}}(l,n,r,c,!g&&p,d):b0(n,r,c,!g&&p,d)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:l}}(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=function z2(t){if(void 0!==t.extent)return S0(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);const e=Lf(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,S0(n,!1,!1)}return v2}(e),s=r.constraint,o=function W2(t){if(void 0===t.enableRotation||t.enableRotation){const n=t.constrainRotation;return void 0===n||!0===n?function w2(t){return t=t||nu(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}():!1===n?M0:"number"==typeof n?function C2(t){const e=2*Math.PI/t;return function(n,r){return r?n:void 0!==n?n=Math.floor(n/e+.5)*e:void 0}}(n):M0}return Uf}(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution();this.setCenterInternal([r[0]+s/2*(i[3]-n[3]+n[1]-i[1]),r[1]-s/2*(i[0]-n[0]+n[2]-i[2])])}}getUpdatedOptions_(e){const n=this.getProperties();return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Un(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Un(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let r,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const c=arguments[i];c.center&&this.setCenterInternal(c.center),void 0!==c.zoom?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),void 0!==c.rotation&&this.setRotation(c.rotation)}if(i===n)return void(r&&gu(r,!0));let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;i<n;++i){const c=arguments[i],d={start:s,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Vf,callback:r};if(c.center&&(d.sourceCenter=o,d.targetCenter=c.center.slice(),o=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(c.zoom),a=d.targetResolution):c.resolution&&(d.sourceResolution=a,d.targetResolution=c.resolution,a=d.targetResolution),void 0!==c.rotation){d.sourceRotation=l;const h=Qi(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}(t=d).sourceCenter&&t.targetCenter&&!lu(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation?s+=d.duration:d.complete=!0,u.push(d)}var t;this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&gu(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const a=i[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l.complete)continue;let c=l.duration>0?(e-l.start)/l.duration:1;c>=1?(l.complete=!0,c=1):s=!1;const d=l.easing(c);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[h+d*(g-h),f+d*(p-f)]}if(l.sourceResolution&&l.targetResolution){const h=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){const h=1===d?Qi(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[r]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&gu(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return void 0!==i&&(r=[i[0]-n[0],i[1]-n[1]],Af(r,e-this.getRotation()),function r2(t,e){t[0]+=+e[0],t[1]+=+e[1]}(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();return void 0!==i&&void 0!==s&&(r=[n[0]-e*(n[0]-i[0])/s,n[1]-e*(n[1]-i[1])/s]),r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Ff(e,this.getProjection())}getCenterInternal(){return this.get(Xt.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return function y2(t,e){return it?T0(t,e,it):t}(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();re(n,1);const r=this.getResolution();re(void 0!==r,2);const i=this.getRotation();return re(void 0!==i,3),Tf(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Xt.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(ns(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=ye(e)/n[0],i=Yt(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(Xt.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),s=Math.log(r/this.minResolution_)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=Kf(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let r,i,n=this.minZoom_||0;if(this.resolutions_){const s=yf(this.resolutions_,e,1);n=s,r=this.resolutions_[s],i=s==this.resolutions_.length-1?2:r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Fe(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],Fe(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(re(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))re(!bf(e),25),r=K0(ns(e,this.getProjection()));else if("Circle"===e.getType()){const i=ns(e.getExtent(),this.getProjection());r=K0(i),r.rotate(this.getRotation(),Ki(i))}else{const i=function m2(){return it}();r=i?e.clone().transform(i,this.getProjection()):e}this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let d=0,h=s.length;d<h;d+=o){const f=s[d]*r-s[d+1]*i,g=s[d]*i+s[d+1]*r;a=Math.min(a,f),l=Math.min(l,g),u=Math.max(u,f),c=Math.max(c,g)}return[a,l,u,c]}fitInternal(e,n){let r=(n=n||{}).size;r||(r=this.getViewportSizeMinusPadding_());const i=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;let o;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),c=Math.sin(u),d=Math.cos(u),h=Ki(a);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const p=this.getConstrainedCenter([h[0]*d-h[1]*c,h[1]*d+h[0]*c],l),m=n.callback?n.callback:ql;void 0!==n.duration?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},m):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),gu(m,!0))}centerOn(e,n,r){this.centerOnInternal(Un(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(Kf(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-r),l=Kf(e,i,[a[0]/2+o[3],a[1]/2+o[0]],n,r);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const n=Ff(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Un(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Un(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Un(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),a=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(Xt.ROTATION)!==i&&this.set(Xt.ROTATION,i),this.get(Xt.RESOLUTION)!==o&&(this.set(Xt.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Xt.CENTER)||!lu(this.get(Xt.CENTER),a))&&this.set(Xt.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=void 0!==e?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,i,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,void this.applyTargetState_();r=r||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!lu(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:rs,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,n,r){r=r&&Un(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}};function Yf(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const Xf=class q2 extends h0{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(we(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=te(e,q.CHANGE,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let n;n=e instanceof fn?{viewState:e.getState(),extent:e.calculateExtent()}:e;const r=this.getExtent();return this.getVisible()&&Yf(this.getLayerState(),n.viewState)&&(!r||xo(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];let s=n(e instanceof fn?e.getViewStateAndExtent():e);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(we(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(we(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=te(e,"precompose",function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);re(!i.some(function(o){return o.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=te(this,q.CHANGE,e.render,e),this.changed())}setSource(e){this.set("source",e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Y2(t,e){d0.expire()}const X2=class K2 extends mf{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){me()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Zi(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Cf(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,a,l){let u;const c=n.viewState;function d(D,I,P,ee){return s.call(o,I,D?P:null,ee)}const h=c.projection,f=function l2(t,e){if(e.canWrapX()){const n=ye(e.getExtent()),r=function u2(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||ye(r),i=Math.floor((t[0]-r[0])/n)),i}(t,e,n);r&&(t[0]-=r*n)}return t}(e.slice(),h),g=[[0,0]];if(h.canWrapX()&&i){const I=ye(h.getExtent());g.push([-I,0],[I,0])}const p=n.layerStatesArray,m=p.length,_=[],v=[];for(let D=0;D<g.length;D++)for(let I=m-1;I>=0;--I){const P=p[I],ee=P.layer;if(ee.hasRenderer()&&Yf(P,c)&&a.call(l,ee)){const fe=ee.getRenderer(),Be=ee.getSource();if(fe&&Be){const st=Be.getWrapX()?f:e,gn=d.bind(null,P.managed);v[0]=st[0]+g[D][0],v[1]=st[1]+g[D][1],u=fe.forEachFeatureAtCoordinate(v,n,r,gn,_)}if(u)return u}}if(0===_.length)return;const y=1/_.length;return _.forEach((D,I)=>D.distanceSq+=I*y),_.sort((D,I)=>D.distanceSq-I.distanceSq),_.some(D=>u=D.callback(D.feature,D.layer,D.geometry)),u}hasFeatureAtCoordinate(e,n,r,i,s,o){return void 0!==this.forEachFeatureAtCoordinate(e,n,r,i,Wl,this,s,o)}getMap(){return this.map_}renderFrame(e){me()}scheduleExpireIconCache(e){d0.canExpireCache()&&e.postRenderFunctions.push(Y2)}},Y0=class Q2 extends or{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}},pu="ol-hidden",mu="ol-unselectable",Qf="ol-control",X0="ol-collapsed";new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i");function Wr(t,e,n,r){let i;return i=n&&n.length?n.shift():vf?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Jf(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function ew(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function eg(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}const Vn=new kn;const sj=class ij extends X2{constructor(e){super(e),this.fontChangeListenerKey_=te(Vn,"propertychange",e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=mu+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new Y0(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){we(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const n=e.layerStatesArray.sort(function(o,a){return o.zIndex-a.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let s=null;for(let o=0,a=n.length;o<a;++o){const l=n[o];e.layerIndex=o;const u=l.layer,c=u.getSourceState();if(!Yf(l,r)||"ready"!=c&&"undefined"!=c){u.unrender();continue}const d=u.render(e,s);d&&(d!==s&&(this.children_.push(d),s=d),"getDeclutter"in u&&i.push(u))}for(let o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);(function tj(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};class ur extends or{constructor(e,n){super(e),this.layer=n}}class ig extends h0{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),r?Array.isArray(r)?r=new jn(r.slice(),{unique:!0}):re("function"==typeof r.getArray,43):r=new jn(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(we),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(te(e,"add",this.handleLayersAdd_,this),te(e,"remove",this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(we);Mo(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new ur("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[te(e,"propertychange",this.handleLayerChange_,this),te(e,q.CHANGE,this.handleLayerChange_,this)];e instanceof ig&&n.push(te(e,"addlayer",this.handleLayerGroupAdd_,this),te(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ht(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new ur("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ur("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new ur("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=ht(n);this.listenerKeys_[r].forEach(we),delete this.listenerKeys_[r],this.dispatchEvent(new ur("removelayer",n)),this.changed()}getLayers(){return this.get("layers")}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new ur("removelayer",r[i]))}this.set("layers",e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=void 0!==e?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&void 0===i.zIndex&&(s=0);for(let o=r,a=n.length;o<a;o++){const l=n[o];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),void 0!==i.extent&&(l.extent=void 0!==l.extent?Yi(l.extent,i.extent):i.extent),void 0===l.zIndex&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const _u=ig,os=class oj extends or{constructor(e,n,r){super(e),this.map=n,this.frameState=void 0!==r?r:null}},cr=class aj extends os{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},_e={SINGLECLICK:"singleclick",CLICK:q.CLICK,DBLCLICK:q.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},uj=class lj extends _f{constructor(e,n){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===n?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=te(r,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=te(r,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(q.TOUCHMOVE,this.boundHandleTouchMove_,!!qC&&{passive:!1})}emulateClick_(e){let n=new cr(_e.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new cr(_e.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new cr(_e.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==_e.POINTERUP||n.type==_e.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==_e.POINTERDOWN||n.type==_e.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new cr(_e.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(we),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const n=new cr(_e.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(te(r,_e.POINTERMOVE,this.handlePointerMove_,this),te(r,_e.POINTERUP,this.handlePointerUp_,this),te(this.element_,_e.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(te(this.element_.getRootNode(),_e.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new cr(_e.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new cr(_e.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(we(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(q.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(we(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(we),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Ye_LAYERGROUP="layergroup",Ye_SIZE="size",Ye_TARGET="target",Ye_VIEW="view",vu=1/0,dj=class cj{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Mo(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){re(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=vu&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],a=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<i&&r[u]<r[l]?u:l;n[e]=n[c],r[e]=r[c],e=c}n[e]=s,r[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const a=this.getParentIndex_(n);if(!(i[a]>o))break;r[n]=r[a],i[n]=i[a],n=a}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,a,l;for(a=0;a<s;++a)o=n[a],l=e(o),l==vu?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=l,n[i++]=o);n.length=i,r.length=i,this.heapify_()}},fj=class hj extends dj{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(q.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(2===r||3===r||4===r){3!==r&&n.removeEventListener(q.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i,s,o,r=0;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),0===i&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}},og=class pj extends kn{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){eg(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&eg(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)we(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ql&&this.listenerKeys.push(te(e,"postrender",this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},yj=class mj extends og{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.expandClassName?e.expandClassName:n+"-expand",s=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",o=void 0!==e.collapseClassName?e.collapseClassName:n+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=i):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(q.CLICK,this.handleClick_.bind(this),!1);const c=this.element;c.className=n+" "+mu+" "+Qf+(this.collapsed_&&this.collapsible_?" "+X0:"")+(this.collapsible_?"":" ol-uncollapsible"),c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&!1===i.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Gl(n,this.renderedAttributions_)){!function ej(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(X0),this.collapsed_?ew(this.collapseLabel_,this.label_):ew(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},vj=class _j extends og{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"\u21e7",i=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(q.CLICK,this.handleClick_.bind(this),!1);const l=this.element;l.className=n+" "+mu+" "+Qf,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(pu)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();void 0!==r&&(this.duration_>0&&r%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:rs}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(pu);s||0!==r?s&&0!==r&&this.element.classList.remove(pu):this.element.classList.add(pu)}this.label_.style.transform=i}this.rotation_=r}},Ej=class Dj extends og{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInClassName?e.zoomInClassName:n+"-in",s=void 0!==e.zoomOutClassName?e.zoomOutClassName:n+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",a=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",l=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",u=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(q.CLICK,this.handleClick_.bind(this,r),!1);const d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild("string"==typeof a?document.createTextNode(a):a),d.addEventListener(q.CLICK,this.handleClick_.bind(this,-r),!1);const f=this.element;f.className=n+" "+mu+" "+Qf,f.appendChild(c),f.appendChild(d),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(void 0!==i){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:rs})):r.setZoom(s)}}};function ag(t,e,n,r){const i=t.getZoom();if(void 0===i)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:void 0!==r?r:250,easing:rs})}const ko=class wj extends kn{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},Sj=class Tj extends ko{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let n=!1;if(e.type==_e.DBLCLICK){const r=e.originalEvent,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_;ag(e.map.getView(),o,s,this.duration_),r.preventDefault(),n=!0}return!n}};function lg(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}const jo=class bj extends ko{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==_e.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==_e.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==_e.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==_e.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function ug(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),r);++i);return r}}const Mj=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},rw=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},Aj=Wl,iw=function(t){const e=t.originalEvent;return 0==e.button&&!(vk&&Dk&&e.ctrlKey)},sw=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},xj=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ow=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},cg=function(t){const e=t.originalEvent;return re(void 0!==e,56),"mouse"==e.pointerType},Pj=function(t){const e=t.originalEvent;return re(void 0!==e,56),e.isPrimary&&0===e.button},Oj=class Nj extends jo{constructor(e){super({stopDown:Zl}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const n=e.condition?e.condition:ug(sw,Pj);this.condition_=e.onFocusOnly?ug(rw,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(lg(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();(function o2(t,e){t[0]*=e,t[1]*=e})(s,a.getResolution()),Af(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-i*Math.cos(s),a[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:rs})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},Fj=class Lj extends jo{constructor(e){e=e||{},super({stopDown:Zl}),this.condition_=e.condition?e.condition:Mj,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!cg(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===Uf)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);void 0!==this.lastAngle_&&r.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}handleUpEvent(e){return!cg(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(cg(e)&&iw(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},jj=class kj extends mf{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new $2([i])}getGeometry(){return this.geometry_}};class dg extends or{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}const Vj=class Uj extends jo{constructor(e){super(),this.box_=new jj((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:iw,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new dg("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new dg(n?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new dg("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},Bj=class $j extends Vj{constructor(e){super({condition:(e=e||{}).condition?e.condition:xj,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),a=r.getResolution()/o;i=i.clone(),i.scale(a*a)}r.fitInternal(i,{duration:this.duration_,easing:rs})}},zj=class Hj extends ko{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return sw(n)&&ow(n)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==q.KEYDOWN){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(40==i||37==i||39==i||38==i)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,u=0;40==i?u=-a:37==i?l=-a:39==i?l=a:u=a;const c=[l,u];Af(c,o.getRotation()),function Ij(t,e,n){const r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:I2,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(o,c,this.duration_),r.preventDefault(),n=!0}}return!n}},Wj=class Gj extends ko{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:ow,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let n=!1;if(e.type==q.KEYDOWN||e.type==q.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&("+"===i||"-"===i)){const o="+"===i?this.delta_:-this.delta_;ag(e.map.getView(),o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}},Yj=class Kj extends ko{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const n=e.condition?e.condition:Aj;this.condition_=e.onFocusOnly?ug(rw,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==q.WHEEL)return!0;const r=e.map,i=e.originalEvent;let s;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==q.WHEEL&&(s=i.deltaY,_k&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=ZC),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=r.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-Fe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),ag(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},Qj=class Xj extends jo{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=Zl),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(void 0!==this.lastAngle_){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const o=e.map,a=o.getView();a.getConstraints().rotation!==Uf&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(lg(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},eU=class Jj extends jo{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=Zl),super(n),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,a=Math.sqrt(s*s+o*o);void 0!==this.lastDistance_&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();1!=n&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(lg(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}};function aw(t){return t[0]>0&&t[1]>0}function $n(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function lw(t){t instanceof Xf?t.setMapInternal(null):t instanceof _u&&t.getLayers().forEach(lw)}function uw(t,e){if(t instanceof Xf)t.setMapInternal(e);else if(t instanceof _u){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)uw(n[r],e)}}const sU=class rU extends kn{constructor(e){super();const n=function iU(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new _u({layers:t.layers});let i,s,o;return n[Ye_LAYERGROUP]=r,n[Ye_TARGET]=t.target,n[Ye_VIEW]=t.view instanceof fn?t.view:new fn,void 0!==t.controls&&(Array.isArray(t.controls)?i=new jn(t.controls.slice()):(re("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?s=new jn(t.interactions.slice()):(re("function"==typeof t.interactions.getArray,48),s=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new jn(t.overlays.slice()):(re("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new jn,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ZC,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||function Cj(t){t=t||{};const e=new jn;return(void 0===t.zoom||t.zoom)&&e.push(new Ej(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new vj(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new yj(t.attributionOptions)),e}(),this.interactions=n.interactions||function tU(t){t=t||{};const e=new jn,n=new class Zj{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Fj),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Sj({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Oj({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Qj),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new eU({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new zj),e.push(new Wj({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Yj({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Bj({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new fj(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ye_LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ye_VIEW,this.handleViewChanged_),this.addChangeListener(Ye_SIZE,this.handleSizeChanged_),this.addChangeListener(Ye_TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof fn)&&e.view.then(function(i){r.setView(new fn(i))}),this.controls.addEventListener("add",i=>{i.element.setMap(this)}),this.controls.addEventListener("remove",i=>{i.element.setMap(null)}),this.interactions.addEventListener("add",i=>{i.element.setMap(this)}),this.interactions.addEventListener("remove",i=>{i.element.setMap(null)}),this.overlays_.addEventListener("add",i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener("remove",i=>{const s=i.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){uw(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,n,null,void 0!==r.layerFilter?r.layerFilter:Wl,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];return function n(r){r.forEach(function(i){i instanceof _u?n(i.getLayers()):e.push(i)})}(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:Wl,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-r.left)/(r.width/i[0]),(a.clientY-r.top)/(r.height/i[1])]}getTarget(){return this.get(Ye_TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Ff(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Lt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ye_LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof jn)return void n.setLayers(e);const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Un(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Lt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ye_SIZE)}getView(){return this.get(Ye_VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return function gj(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return vu;const s=t.viewState.center,o=r[0]-s[0],a=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+a*a)/i}(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){const r=new cr(n=n||e.type,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if("pointerdown"===r||r===q.WHEEL||r===q.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()===this&&o.getActive()&&this.getTargetElement()&&(!o.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[0]||o[1]){const a=Date.now()-e.time>8;i=a?0:8,s=a?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new os("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new os("loadstart",this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)we(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(q.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(q.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,eg(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host)}const e=this.getTarget(),n="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=n,n){n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new sj(this)),this.mapBrowserEventHandler_=new uj(this,this.moveTolerance_);for(const s in _e)this.mapBrowserEventHandler_.addEventListener(_e[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(q.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(q.WHEEL,this.boundHandleBrowserEvent_,!!qC&&{passive:!1});const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[te(r,q.KEYDOWN,this.handleBrowserEvent,this),te(r,q.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(we(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(we(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=te(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=te(e,q.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(we),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new ur("addlayer",e)),this.layerGroupPropertyListenerKeys_=[te(e,"propertychange",this.render,this),te(e,q.CHANGE,this.render,this),te(e,"addlayer",this.handleLayerAdd_,this),te(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){lw(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(void 0!==n&&aw(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Tf(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:ht(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=Tf(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!bf(this.previousExtent_)&&!If(s.extent,this.previousExtent_))&&(this.dispatchEvent(new os("movestart",this,i)),this.previousExtent_=qi(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!If(s.extent,this.previousExtent_)&&(this.dispatchEvent(new os("moveend",this,s)),function Ik(t,e){e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):t.slice()}(s.extent,this.previousExtent_))),this.dispatchEvent(new os("postrender",this,s)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new ur("removelayer",n)),this.set(Ye_LAYERGROUP,e)}setSize(e){this.set(Ye_SIZE,e)}setTarget(e){this.set(Ye_TARGET,e)}setView(e){if(!e||e instanceof fn)return void this.set(Ye_VIEW,e);this.set(Ye_VIEW,new fn);const n=this;e.then(function(r){n.setView(new fn(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!aw(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&v0("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!Gl(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}},aU=class oU extends Xf{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}},uU=class lU extends HC{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return me()}getData(e){return null}prepareFrame(e){return me()}renderFrame(e,n){return me()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){2===e.target.getState()&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return 2!=n&&3!=n&&e.addEventListener(q.CHANGE,this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}};let as=null;const hU=class dU extends uU{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){let i;as||function cU(){as=Wr(1,1,void 0,{willReadFrequently:!0})}(),as.clearRect(0,0,1,1);try{as.drawImage(e,n,r,1,1,0,0,1,1),i=as.getImageData(0,0,1,1).data}catch{return as=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return"function"==typeof r&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&Gl(l0(e.style.backgroundColor),l0(r)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Wr();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Br(r),s=tu(r),o=eu(r),a=Jl(r);Lt(n.coordinateToPixelTransform,i),Lt(n.coordinateToPixelTransform,s),Lt(n.coordinateToPixelTransform,o),Lt(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;Lt(l,i),Lt(l,s),Lt(l,o),Lt(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new Y0(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_("prerender",e,n)}postRender(e,n){this.dispatchRenderEvent_("postrender",e,n)}getRenderTransform(e,n,r,i,s,o,a){const c=i/n;return Zi(this.tempTransform,s/2,o/2,c,-c,-r,-e[0]+a,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},cw=class fU extends _f{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(q.CHANGE)}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){me()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=n,this.transitionStarts_[e]=r;const i=n-r+1e3/60;return i>=this.transition_?1:R0(i/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};const hw=class gU extends cw{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function pU(){const t=Wr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function dw(t,e,n){const r=t;let i=!0,s=!1,o=!1;const a=[Kl(r,q.LOAD,function(){o=!0,s||e()})];return r.src&&Ek?(s=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(o?e():n())})):a.push(Kl(r,q.ERROR,n)),function(){i=!1,a.forEach(we)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let hg;const ls=[];function gw(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function fg(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function pw(t,e,n,r){const i=Fo(n,e,t);let s=C0(e,r,n);const o=e.getMetersPerUnit();void 0!==o&&(s*=o);const a=t.getMetersPerUnit();void 0!==a&&(s/=a);const l=t.getExtent();if(!l||wf(l,i)){const u=C0(t,s,i)/s;isFinite(u)&&u>0&&(s/=u)}return s}const gg=class wU extends cw{constructor(e,n,r,i,s,o,a,l,u,c,d,h){super(s,0,{interpolate:!!h}),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const m=g?Yi(f,g):f;if(0===Ql(m))return void(this.state=4);const _=e.getExtent();_&&(p=p?Yi(p,_):_);const v=i.getResolution(this.wrappedTileCoord_[0]),y=function EU(t,e,n,r){const i=Ki(n);let s=pw(t,e,i,r);return(!isFinite(s)||s<=0)&&r0(n,function(o){return s=pw(t,e,o,r),isFinite(s)&&s>0}),s}(e,r,m,v);if(!isFinite(y)||y<=0)return void(this.state=4);if(this.triangulation_=new class _U{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let a={};const l=Lo(this.targetProj_,this.sourceProj_);this.transformInv_=function(v){const y=v[0]+"/"+v[1];return a[y]||(a[y]=l(v)),a[y]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&ye(i)==ye(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ye(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ye(this.targetProj_.getExtent()):null;const u=Br(r),c=tu(r),d=eu(r),h=Jl(r),f=this.transformInv_(u),g=this.transformInv_(c),p=this.transformInv_(d),m=this.transformInv_(h),_=10+(o?Math.max(0,Math.ceil(Math.log2(Ql(r)/(o*o*256*256)))):0);if(this.addQuad_(u,c,d,h,f,g,p,m,_),this.wrapsXInSource_){let v=1/0;this.triangles_.forEach(function(y,D,I){v=Math.min(v,y.source[0][0],y.source[1][0],y.source[2][0])}),this.triangles_.forEach(y=>{if(Math.max(y.source[0][0],y.source[1][0],y.source[2][0])-v>this.sourceWorldWidth_/2){const D=[[y.source[0][0],y.source[0][1]],[y.source[1][0],y.source[1][1]],[y.source[2][0],y.source[2][1]]];D[0][0]-v>this.sourceWorldWidth_/2&&(D[0][0]-=this.sourceWorldWidth_),D[1][0]-v>this.sourceWorldWidth_/2&&(D[1][0]-=this.sourceWorldWidth_),D[2][0]-v>this.sourceWorldWidth_/2&&(D[2][0]-=this.sourceWorldWidth_);const I=Math.min(D[0][0],D[1][0],D[2][0]);Math.max(D[0][0],D[1][0],D[2][0])-I<this.sourceWorldWidth_/2&&(y.source=D)}})}a={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,a,l,u){const c=XC([s,o,a,l]),d=this.sourceWorldWidth_?ye(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let g=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(g=ye(XC([e,n,r,i]))/this.targetWorldWidth_>.25||g),!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)),!g&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!xo(c,this.maxSourceExtent_))return;let p=0;if(!(g||isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(u>0)g=!0;else if(p=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(u>0){if(!g){const _=this.transformInv_([(e[0]+r[0])/2,(e[1]+r[1])/2]);let v;v=f?(Qi(s[0],h)+Qi(a[0],h))/2-Qi(_[0],h):(s[0]+a[0])/2-_[0];const y=(s[1]+a[1])/2-_[1];g=v*v+y*y>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const m=[(n[0]+r[0])/2,(n[1]+r[1])/2],_=this.transformInv_(m),v=[(i[0]+e[0])/2,(i[1]+e[1])/2],y=this.transformInv_(v);this.addQuad_(e,n,m,v,s,o,_,y,u-1),this.addQuad_(v,m,r,i,y,_,a,l,u-1)}else{const m=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(m),v=[(r[0]+i[0])/2,(r[1]+i[1])/2],y=this.transformInv_(v);this.addQuad_(e,m,v,i,s,_,y,l,u-1),this.addQuad_(m,n,r,v,_,o,a,y,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&p||this.addTriangle_(e,r,i,s,a,l),14&p||this.addTriangle_(e,r,n,s,a,o),p&&(13&p||this.addTriangle_(n,i,e,o,l,s),7&p||this.addTriangle_(n,i,r,o,l,a))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,r,i){const s=n.source;Ao(e,s[0]),Ao(e,s[1]),Ao(e,s[2])}),e}getTriangles(){return this.triangles_}}(e,r,m,p,y*(void 0!==c?c:.5),v),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=n.getZForResolution(y);let I=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(I[1]=Fe(I[1],p[1],p[3]),I[3]=Fe(I[3],p[1],p[3])):I=Yi(I,p)),Ql(I)){const P=n.getTileRangeForExtentAndZ(I,this.sourceZ_);for(let ee=P.minX;ee<=P.maxX;ee++)for(let fe=P.minY;fe<=P.maxY;fe++){const Be=u(this.sourceZ_,ee,fe,a);Be&&this.sourceTiles_.push(Be)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&2==n.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i="number"==typeof r?r:r[0],s="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function CU(t,e,n,r,i,s,o,a,l,u,c,d){const h=Wr(Math.round(n*t),Math.round(n*e),ls);if(d||(h.imageSmoothingEnabled=!1),0===l.length)return h.canvas;function f(D){return Math.round(D*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];l.forEach(function(D,I,P){!function Mk(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}(g,D.extent)});const p=ye(g),m=Yt(g),_=Wr(Math.round(n*p/r),Math.round(n*m/r),ls);d||(_.imageSmoothingEnabled=!1);const v=n/r;l.forEach(function(D,I,P){const ee=D.extent[0]-g[0],fe=-(D.extent[3]-g[3]),Be=ye(D.extent),st=Yt(D.extent);D.image.width>0&&D.image.height>0&&_.drawImage(D.image,u,u,D.image.width-2*u,D.image.height-2*u,ee*v,fe*v,Be*v,st*v)});const y=Br(o);return a.getTriangles().forEach(function(D,I,P){const ee=D.source,fe=D.target;let Be=ee[0][0],st=ee[0][1],gn=ee[1][0],fr=ee[1][1],gr=ee[2][0],$o=ee[2][1];const pn=f((fe[0][0]-y[0])/s),Bn=f(-(fe[0][1]-y[1])/s),ie=f((fe[1][0]-y[0])/s),It=f(-(fe[1][1]-y[1])/s),Hn=f((fe[2][0]-y[0])/s),mn=f(-(fe[2][1]-y[1])/s),qr=Be,ft=st;Be=0,st=0,gn-=qr,fr-=ft,gr-=qr,$o-=ft;const Ne=function kk(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let a=r+1;a<e;a++){const l=Math.abs(t[a][r]);l>s&&(s=l,i=a)}if(0===s)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let a=r+1;a<e;a++){const l=-t[a][r]/t[r][r];for(let u=r;u<e+1;u++)r==u?t[a][u]=0:t[a][u]+=l*t[r][u]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}([[gn,fr,0,0,ie-pn],[gr,$o,0,0,Hn-pn],[0,0,gn,fr,It-Bn],[0,0,gr,$o,mn-Bn]]);if(Ne){if(h.save(),h.beginPath(),function DU(){if(void 0===hg){const t=Wr(6,6,ls);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",gw(t,4,5,4,0),gw(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;hg=fg(e,0)||fg(e,4)||fg(e,8),Jf(t),ls.push(t.canvas)}return hg}()||!d){h.moveTo(ie,It);const be=4,ds=pn-ie,pr=Bn-It;for(let gt=0;gt<be;gt++)h.lineTo(ie+f((gt+1)*ds/be),It+f(gt*pr/(be-1))),gt!=be-1&&h.lineTo(ie+f((gt+1)*ds/be),It+f((gt+1)*pr/(be-1)));h.lineTo(Hn,mn)}else h.moveTo(ie,It),h.lineTo(pn,Bn),h.lineTo(Hn,mn);h.clip(),h.transform(Ne[0],Ne[2],Ne[1],Ne[3],pn,Bn),h.translate(g[0]-qr,g[3]-ft),h.scale(r/n,-r/n),h.drawImage(_.canvas,0,0),h.restore()}}),Jf(_),ls.push(_.canvas),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(D,I,P){const ee=D.target,fe=(ee[0][0]-y[0])/s,Be=-(ee[0][1]-y[1])/s,st=(ee[1][0]-y[0])/s,gn=-(ee[1][1]-y[1])/s,fr=(ee[2][0]-y[0])/s,gr=-(ee[2][1]-y[1])/s;h.beginPath(),h.moveTo(st,gn),h.lineTo(fe,Be),h.lineTo(fr,gr),h.closePath(),h.stroke()}),h.restore()),h.canvas}(i,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(0==r||1==r){e++;const i=te(n,q.CHANGE,function(s){const o=n.getState();(2==o||3==o||4==o)&&(we(i),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){0==n.getState()&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(we),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Jf(this.canvas_.getContext("2d")),ls.push(this.canvas_),this.canvas_=null),super.release()}};class mw{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function us(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new mw(t,e,n,r)}const yw=mw,TU=class IU extends hU{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new yw(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return 2==r||4==r||3==r&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,a=this.getLayer();let u=a.getSource().getTile(e,n,r,s,o);return 3==u.getState()&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Lt(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!wf(s,i))return null;const o=n.pixelRatio,a=n.viewState.projection,l=n.viewState,u=r.getRenderSource(),c=u.getTileGridForProjection(l.projection),d=u.getTilePixelRatio(n.pixelRatio);for(let h=c.getZForResolution(l.resolution);h>=c.getMinZoom();--h){const f=c.getTileCoordForCoordAndZ(i,h),g=u.getTile(h,f[1],f[2],o,a);if(!(g instanceof hw||g instanceof gg)||g instanceof gg&&4===g.getState())return null;if(2!==g.getState())continue;const p=c.getOrigin(h),m=$n(c.getTileSize(h)),_=c.getResolution(h),v=Math.floor(d*((i[0]-p[0])/_-f[1]*m[0])),y=Math.floor(d*((p[1]-i[1])/_-f[2]*m[1])),D=Math.round(d*u.getGutterForProjection(l.projection));return this.getImageData(g.getImage(),v+D,y+D)}return null}loadedTileCallback(e,n,r){return!!this.isDrawableTile(r)&&super.loadedTileCallback(e,n,r)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,a=i.center,l=i.rotation,u=e.pixelRatio,c=this.getLayer(),d=c.getSource(),h=d.getRevision(),f=d.getTileGridForProjection(s),g=f.getZForResolution(o,d.zDirection),p=f.getResolution(g);let m=e.extent;const _=e.viewState.resolution,v=d.getTilePixelRatio(u),y=Math.round(ye(m)/_*u),D=Math.round(Yt(m)/_*u),I=r.extent&&ns(r.extent,s);I&&(m=Yi(m,ns(r.extent,s)));const P=p*y/2/v,ee=p*D/2/v,fe=[a[0]-P,a[1]-ee,a[0]+P,a[1]+ee],Be=f.getTileRangeForExtentAndZ(m,g),st={};st[g]={};const gn=this.createLoadedTileFinder(d,s,st),fr=this.tmpExtent,gr=this.tmpTileRange_;this.newTiles_=!1;const $o=l?Sf(i.center,_,l,e.size):void 0;for(let yn=Be.minX;yn<=Be.maxX;++yn)for(let Ne=Be.minY;Ne<=Be.maxY;++Ne){if(l&&!f.tileCoordIntersectsViewport([g,yn,Ne],$o))continue;const be=this.getTile(g,yn,Ne,e);if(this.isDrawableTile(be)){const gt=ht(this);if(2==be.getState()){st[g][be.tileCoord.toString()]=be;let hs=be.inTransition(gt);hs&&1!==r.opacity&&(be.endTransition(gt),hs=!1),!this.newTiles_&&(hs||!this.renderedTiles.includes(be))&&(this.newTiles_=!0)}if(1===be.getAlpha(gt,e.time))continue}const ds=f.getTileCoordChildTileRange(be.tileCoord,gr,fr);let pr=!1;ds&&(pr=gn(g+1,ds)),pr||f.forEachTileCoordParentTileRange(be.tileCoord,gn,gr,fr)}const pn=p/o*u/v;Zi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,l,-y/2,-D/2);const Bn=function YC(t){const e="matrix("+t.join(", ")+")";if(vf)return e;const n=KC||(KC=document.createElement("div"));return n.style.transform=e,n.style.transform}(this.pixelTransform);this.useContainer(n,Bn,this.getBackground(e));const ie=this.context,It=ie.canvas;Cf(this.inversePixelTransform,this.pixelTransform),Zi(this.tempTransform,y/2,D/2,pn,pn,0,-y/2,-D/2),It.width!=y||It.height!=D?(It.width=y,It.height=D):this.containerReused||ie.clearRect(0,0,y,D),I&&this.clipUnrotated(ie,e,I),d.getInterpolate()||(ie.imageSmoothingEnabled=!1),this.preRender(ie,e),this.renderedTiles.length=0;let mn,qr,ft,Hn=Object.keys(st).map(Number);Hn.sort(zl),1!==r.opacity||this.containerReused&&!d.getOpaque(e.viewState.projection)?(mn=[],qr=[]):Hn=Hn.reverse();for(let yn=Hn.length-1;yn>=0;--yn){const Ne=Hn[yn],be=d.getTilePixelSize(Ne,u,s),pr=f.getResolution(Ne)/p,gt=be[0]*pr*pn,hs=be[1]*pr*pn,_g=f.getTileCoordForCoordAndZ(Br(fe),Ne),Tw=f.getTileCoordExtent(_g),Cu=Lt(this.tempTransform,[v*(Tw[0]-fe[0])/p,v*(fe[3]-Tw[3])/p]),sV=v*d.getGutterForProjection(s),Sw=st[Ne];for(const oV in Sw){const fs=Sw[oV],bw=fs.tileCoord,Mw=_g[1]-bw[1],aV=Math.round(Cu[0]-(Mw-1)*gt),Rw=_g[2]-bw[2],lV=Math.round(Cu[1]-(Rw-1)*hs),zn=Math.round(Cu[0]-Mw*gt),Gn=Math.round(Cu[1]-Rw*hs),Bo=aV-zn,Ho=lV-Gn,Aw=g===Ne,xw=Aw&&1!==fs.getAlpha(ht(this),e.time);let vg=!1;if(!xw)if(mn){ft=[zn,Gn,zn+Bo,Gn,zn+Bo,Gn+Ho,zn,Gn+Ho];for(let wu=0,uV=mn.length;wu<uV;++wu)if(g!==Ne&&Ne<qr[wu]){const kt=mn[wu];xo([zn,Gn,zn+Bo,Gn+Ho],[kt[0],kt[3],kt[4],kt[7]])&&(vg||(ie.save(),vg=!0),ie.beginPath(),ie.moveTo(ft[0],ft[1]),ie.lineTo(ft[2],ft[3]),ie.lineTo(ft[4],ft[5]),ie.lineTo(ft[6],ft[7]),ie.moveTo(kt[6],kt[7]),ie.lineTo(kt[4],kt[5]),ie.lineTo(kt[2],kt[3]),ie.lineTo(kt[0],kt[1]),ie.clip())}mn.push(ft),qr.push(Ne)}else ie.clearRect(zn,Gn,Bo,Ho);this.drawTileImage(fs,e,zn,Gn,Bo,Ho,sV,Aw),mn&&!xw?(vg&&ie.restore(),this.renderedTiles.unshift(fs)):this.renderedTiles.push(fs),this.updateUsedTiles(e.usedTiles,d,fs)}}return this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!If(this.renderedExtent_,fe),this.renderedExtent_=fe,this.renderedPixelRatio=u,this.renderedProjection=s,this.manageTilePyramid(e,d,f,u,s,m,g,c.getPreload()),this.scheduleExpireCache(e,d),this.postRender(ie,e),r.extent&&ie.restore(),ie.imageSmoothingEnabled=!0,Bn!==It.style.transform&&(It.style.transform=Bn),this.container}drawTileImage(e,n,r,i,s,o,a,l){const u=this.getTileImage(e);if(!u)return;const c=ht(this),d=n.layerStatesArray[n.layerIndex],h=d.opacity*(l?e.getAlpha(c,n.time):1),f=h!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,r,i,s,o),f&&this.context.restore(),h!==d.opacity?n.animate=!0:l&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=function(i,s,o){const a=ht(i);a in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[a])}.bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=ht(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,a,l,u){const c=ht(n);c in e.wantedTiles||(e.wantedTiles[c]={});const d=e.wantedTiles[c],h=e.tileQueue,f=r.getMinZoom(),g=e.viewState.rotation,p=g?Sf(e.viewState.center,e.viewState.resolution,g,e.size):void 0;let _,v,y,D,I,P,m=0;for(P=f;P<=a;++P)for(v=r.getTileRangeForExtentAndZ(o,P,v),y=r.getResolution(P),D=v.minX;D<=v.maxX;++D)for(I=v.minY;I<=v.maxY;++I)g&&!r.tileCoordIntersectsViewport([P,D,I],p)||(a-P<=l?(++m,_=n.getTile(P,D,I,i,s),0==_.getState()&&(d[_.getKey()]=!0,h.isKeyQueued(_.getKey())||h.enqueue([_,c,r.getTileCoordCenter(_.tileCoord),y])),void 0!==u&&u(_)):n.useTile(P,D,I,s));n.updateCacheSize(m,s)}},bU=class SU extends aU{constructor(e){super(e)}createRenderer(){return new TU(this)}},RU=class MU{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return re(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return re(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){re(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}};function _w(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Vo(t,e,n){return t+"/"+e+"/"+n}function vw(t){return Vo(t[0],t[1],t[2])}const Dw=class NU extends RU{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const r=function AU(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(vw(i.tileCoord)),i.release())})}};function Ew(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const LU=class OU extends kn{constructor(e){super(),this.projection=Ke(e.projection),this.attributions_=Ew(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Ew(e),this.changed()}setState(e){this.state_=e,this.changed()}},cs=[0,0,0],Cw=class FU{constructor(e){let n;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,re(function lk(t,e,n){const r=e||zl;return t.every(function(i,s){if(0===s)return!0;const o=r(t[s-1],i);return!(o>0||n&&0===o)})}(this.resolutions_,function(i,s){return s-i},!0),17),!e.origins)for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,re(this.origins_.length==this.resolutions_.length,20));const r=e.extent;void 0!==r&&!this.origin_&&!this.origins_&&(this.origin_=Br(r)),re(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,re(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:Rf,re(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(i,s){const o=new yw(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const a=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let a=i.minY,l=i.maxY;a<=l;++a)r([n,s,a])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,a,l=null,u=e[0]-1;for(2===this.zoomFactor_?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),s=us(o,o,a,a,r)):s=this.getTileRangeForExtentAndZ(l,u,r),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const s=2*e[1],o=2*e[2];return us(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return us(s,o,s,o,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),u=Math.floor(s*l),c=Math.floor(o*l);return n<i?us(u,u,c,c,r):us(u,Math.floor(l*(s+1))-1,c,Math.floor(l*(o+1))-1,r)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),s=this.getResolution(e),o=$n(this.getTileSize(e),this.tmpSize_);return $r(i[0]+n.minX*o[0]*s,i[1]+n.minY*o[1]*s,i[0]+(n.maxX+1)*o[0]*s,i[1]+(n.maxY+1)*o[1]*s,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,cs);const i=cs[1],s=cs[2];return this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,cs),us(i,cs[1],s,cs[2],r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=$n(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=$n(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,a=r[1]-(e[2]+1)*s[1]*i;return $r(o,a,o+s[0]*i,a+s[1]*i,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),a=r/this.getResolution(o),l=this.getOrigin(o),u=$n(this.getTileSize(o),this.tmpSize_);let c=a*(e-l[0])/r/u[0],d=a*(l[1]-n)/r/u[1];return i?(c=iu(c,5)-1,d=iu(d,5)-1):(c=ru(c,5),d=ru(d,5)),_w(o,c,d,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),a=this.getResolution(r),l=$n(this.getTileSize(r),this.tmpSize_);let u=(e-o[0])/a/l[0],c=(o[1]-n)/a/l[1];return i?(u=iu(u,5)-1,c=iu(c,5)-1):(u=ru(u,5),c=ru(c,5)),_w(r,u,c,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){return Fe(yf(this.resolutions_,e,n||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return W0(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}};function ww(t){let e=t.getDefaultTileGrid();return e||(e=function VU(t,e,n,r){return function jU(t,e,n,r){r=void 0!==r?r:"top-left";const i=Iw(t,e,n);return new Cw({extent:t,origin:xk(t,r),resolutions:i,tileSize:n})}(mg(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function Iw(t,e,n,r){e=void 0!==e?e:Gk,n=$n(void 0!==n?n:Rf);const i=Yt(t),s=ye(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=r/Math.pow(2,l);return a}function mg(t){let e=(t=Ke(t)).getExtent();if(!e){const n=180*Po.degrees/t.getMetersPerUnit();e=$r(-n,-n,n,n)}return e}class BU extends or{constructor(e,n){super(e),this.tile=n}}const HU=class $U extends LU{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&$n(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new Dw(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let a,l,u,o=!0;for(let c=r.minX;c<=r.maxX;++c)for(let d=r.minY;d<=r.maxY;++d)l=Vo(n,c,d),u=!1,s.containsKey(l)&&(a=s.get(l),u=2===a.getState(),u&&(u=!1!==i(a))),u||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return me()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:ww(e)}getTileCacheForProjection(e){const n=this.getProjection();return re(null===n||ts(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=$n(i.getTileSize(e),this.tmpSize);return 1==s?o:function nU(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=void 0!==n?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function kU(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=mg(n);if(!wf(s,i)){const o=ye(s),a=Math.ceil((s[0]-i[0])/o);return i[0]+=o*a,t.getTileCoordForCoordAndZ(i,r)}return e}(r,e,n)),function PU(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return!s||s.containsXY(r,i)}(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}};function zU(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const c=e.getFullTileRange(o[0]);return re(c,55),(c.getHeight()-o[2]-1).toString()})}}class yg extends HU{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===yg.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=ht(n),i=n.getState();let s;1==i?(this.tileLoadingKeys_[r]=!0,s="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=3==i?"tileloaderror":2==i?"tileloadend":void 0),null!=s&&this.dispatchEvent(new BU(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=function ZU(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function GU(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=zU(t[i],e);return function WU(t){return 1===t.length?t[0]:function(e,n,r){if(!e)return;const i=function xU(t){return(t[1]<<t[0])+t[2]}(e),s=Qi(i,t.length);return t[s](e,n,r)}}(r)}(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=Vo(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const qU=yg;function YU(t,e){t.getImage().src=e}const XU=class KU extends qU{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:YU,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:hw,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ts(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!ts(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ts(n,e)))return this.tileGrid;const r=ht(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=ww(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||ts(n,e))return this.tileCache;const r=ht(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Dw(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,o){const a=[e,n,r],l=this.getTileCoordForTileUrlFunction(a,s),u=l?this.tileUrlFunction(l,i,s):void 0,c=new this.tileClass(a,void 0!==u?0:4,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(q.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||ts(o,s))return this.getTileInternal(e,n,r,i,o||s);const a=this.getTileCacheForProjection(s),l=[e,n,r];let u;const c=vw(l);a.containsKey(c)&&(u=a.get(c));const d=this.getKey();if(u&&u.key==d)return u;const h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(l,s),p=new gg(o,h,s,f,l,g,this.getTilePixelRatio(i),this.getGutter(),(m,_,v,y)=>this.getTileInternal(m,_,v,y,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return p.key=d,u?(p.interimTile=u,p.refreshInterimChain(),a.replace(c,p)):a.set(c,p),p}getTileInternal(e,n,r,i,s){let o=null;const a=Vo(e,n,r),l=this.getKey();if(this.tileCache.containsKey(a)){if(o=this.tileCache.get(a),o.key!=l){const u=o;o=this.createTile_(e,n,r,i,s,l),o.interimTile=0==u.getState()?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(e,n,r,i,s,l),this.tileCache.set(a,o);return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Ke(e);if(r){const i=ht(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},JU=class QU extends XU{constructor(e){const n=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:function UU(t){const e=t||{},n=e.extent||Ke("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Iw(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Cw(r)}({extent:mg(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}},nV=class tV extends JU{constructor(e){let n;n=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:e.wrapX,zDirection:e.zDirection})}};let rV=(()=>{class t{ngOnInit(){this.map=new sU({view:new fn({center:[0,0],zoom:1}),layers:[new bU({source:new nV})],target:"ol-map"})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Hu({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"title"],["id","ol-map",1,"map-container"]],template:function(n,r){1&n&&(Ri(0,"header")(1,"div",0),Td(2,"Openlayers & Angular Demo"),Ai()(),Ri(3,"main"),Ba(4,"div",1),Ai(),Ri(5,"footer"),Td(6," Made By Abuzar\n"),Ai())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}header[_ngcontent-%COMP%]{background-color:var(--header-color);padding:2em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:28px}main[_ngcontent-%COMP%]{display:flex;flex-grow:1}.left-bar[_ngcontent-%COMP%]{width:20em;background-color:var(--sidebar-color)}.map-container[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{background-color:var(--header-color);padding:1em}"]}),t})(),iV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Dr({type:t,bootstrap:[rV]}),t.\u0275inj=Zn({imports:[hO,ik]}),t})();dO().bootstrapModule(iV).catch(t=>console.error(t))}},oe=>{oe(oe.s=760)}]);